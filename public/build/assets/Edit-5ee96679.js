import{Z as B,j as C,x as H,y as n,o as m,f as c,a as d,b as s,w as L,d as u,e as N,i as l,z as _,S as O,s as b,F as f,p as h,B as y,g as p,O as D,A as q,t as w,v as T}from"./app-4cf649ca.js";import{_ as z}from"./Alert-8ade166f.js";import{_ as F}from"./AuthenticatedLayout-cbb3e46c.js";import{B as R}from"./Breadcrumb-f1c489ac.js";import{M as X}from"./ModelOptions-9835f210.js";import{_ as Z}from"./Listbox-92b5110c.js";import{_ as G}from"./InputError-79155e62.js";import{_ as J}from"./_plugin-vue_export-helper-c27b6911.js";import{r as K,a as Q}from"./EyeIcon-1e56f72d.js";import{r as W}from"./PlusIcon-18baa55b.js";import{r as Y}from"./PencilSquareIcon-5a2dd2ec.js";import{r as $}from"./XMarkIcon-1e2e326f.js";import{r as ss}from"./ArrowPathIcon-9a3bcc07.js";import"./TruckIcon-2f13eb25.js";import"./hidden-253ee999.js";import"./ShoppingCartIcon-90f63347.js";import"./ShoppingBagIcon-e5743d77.js";import"./XMarkIcon-4b7ba5d6.js";import"./ChevronDownIcon-9563394f.js";import"./ChevronUpDownIcon-0b91429b.js";import"./ArrowTopRightOnSquareIcon-61c7f57b.js";import"./CheckIcon-20c25c5e.js";const es={layout:F,components:{Alert:z,Breadcrumb:R,Head:B,Link:C,ModelOptions:X,Listbox:Z,EyeIcon:K,EyeSlashIcon:Q,PlusIcon:W,PencilSquareIcon:Y,XMarkIcon:$,ArrowPathIcon:ss,InputError:G},props:{user:Object,roles:Array,branches:Array},watch:{"form.type"(o,e){o!="other"&&(this.form.role_id=this.user.role_id)}},data(){return{password_invisible:!0,password_status:!0}},setup(o){const e=[{name:"Users",href:route("user.index"),current:!1},{name:"Edit Page",href:"#",current:!1}],i=H({type:o.user.is_barista?"barista":o.user.is_chef?"chef":o.user.is_waiter?"waiter":"other",role_id:o.user.role_id,name:o.user.name,email:o.user.email,password:"",mobile:o.user.mobile,address:o.user.address,branches:o.branches});i.branches.map(a=>(a.is_checked=o.user.branch_access[a.id],a));function r(){D.patch(route("user.update",o.user.id),i)}return{breadcrumbs:e,form:i,submit:r}}},ts={class:"bg-white shadow"},rs={class:"px-4 sm:px-6 lg:max-w-6xl lg:mx-auto lg:px-8"},os={class:"py-6 md:flex md:items-center md:justify-between lg:border-t lg:border-gray-200"},is={class:"flex-1 min-w-0"},ds={class:"mt-6 h-9 flex space-x-3 md:mt-0 md:ml-4"},as={class:"py-5"},ns={class:"max-w-6xl mx-auto sm:px-6 lg:px-8"},ls={class:"bg-white shadow sm:rounded-lg"},ms={class:"flex flex-col sm:flex-row sm:justify-between items-center px-4 py-5 border-b border-gray-200 sm:px-8"},cs=s("p",{class:"max-w-2xl leading-10 text-gray-700 text-lg font-medium mb-4 sm:mb-0"},"User Edit",-1),us={class:"flex-shrink-0 flex space-x-3"},gs=["disabled"],_s={class:"space-y-4 sm:space-y-6 px-5 py-6"},fs={class:"max-w-5xl mx-auto space-y-4 sm:space-y-6"},ps={class:"grid sm:grid-cols-3 sm:gap-2"},xs=s("dt",{class:"text-sm sm:leading-10 font-semibold text-gray-700 tracking-wider sm:text-right pr-8"},[u(" Name "),s("span",{class:"text-red-500"},"*")],-1),bs={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-1"},hs=["disabled"],ys={class:"grid sm:grid-cols-3 sm:gap-2"},ws=s("dt",{class:"text-sm sm:leading-10 font-semibold text-gray-700 tracking-wider sm:text-right pr-8"},[u(" Email "),s("span",{class:"text-red-500"},"*")],-1),vs={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-1"},ks=["disabled"],Vs={class:"grid sm:grid-cols-3 sm:gap-2"},Is=s("dt",{class:"text-sm sm:leading-10 font-semibold text-gray-700 tracking-wider sm:text-right pr-8"}," Password ",-1),Es={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-1"},Us={class:"flex rounded shadow-sm"},Ms=["type","disabled"],Ps={class:"inline-flex items-center justify-center px-4 rounded-r border border-l-0 border-gray-300 bg-gray-50 text-gray-500 sm:text-sm"},Ss={class:"grid sm:grid-cols-3 sm:gap-2"},As=s("dt",{class:"text-sm sm:leading-10 font-semibold text-gray-700 tracking-wider sm:text-right pr-8"}," Mobile ",-1),js={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-1"},Bs={class:"relative"},Cs=s("span",{class:"absolute py-2 top-0 left-0 m-px px-4 rounded-l-md border-r border-gray-300 bg-gray-100 sm:text-sm"},"+88",-1),Hs=["disabled"],Ls={class:"grid sm:grid-cols-3 sm:gap-2"},Ns=s("dt",{class:"text-sm sm:leading-10 font-semibold text-gray-700 tracking-wider sm:text-right pr-8"}," Address ",-1),Os={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"},Ds=["disabled"],qs={key:0,class:"grid sm:grid-cols-3 sm:gap-2"},Ts=s("dt",{class:"text-sm sm:leading-10 font-semibold text-gray-700 tracking-wider sm:text-right pr-8"},[u(" User Type "),s("span",{class:"text-red-500"},"*")],-1),zs={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-1"},Fs={class:"mt-3 space-y-4"},Rs=["value"],Xs={class:"ml-2 tracking-wide cursor-pointer"},Zs={class:"flex items-center mr-5"},Gs=s("span",{class:"ml-2 tracking-wide cursor-pointer"}," Other (Custom role based) ",-1),Js={key:1,class:"grid sm:grid-cols-3 sm:gap-2"},Ks=s("dt",{class:"text-sm sm:leading-10 font-semibold text-gray-700 tracking-wider sm:text-right pr-8"},[u(" Role "),s("span",{class:"text-red-500"},"*")],-1),Qs={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-1"},Ws={key:2,class:"grid sm:grid-cols-3 sm:gap-2"},Ys=s("dt",{class:"text-sm sm:leading-10 font-semibold text-gray-700 tracking-wider sm:text-right pr-8"},[u(" Branch Access "),s("span",{class:"text-red-500"},"*")],-1),$s={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-1"},se={class:"mt-3 space-y-4"},ee=["onUpdate:modelValue"],te={class:"ml-2 tracking-wide cursor-pointer"},re=q('<div class="relative"><div class="absolute inset-0 flex items-center" aria-hidden="true"><div class="w-full border-t border-gray-300"></div></div><div class="relative flex justify-center ml-4"><span class="px-3 bg-white text-lg font-medium text-gray-900"></span></div></div>',1),oe={class:"max-w-5xl mx-auto space-y-4 sm:space-y-6"},ie={class:"flex justify-end"},de=["disabled"];function ae(o,e,i,r,a,ne){const v=n("Head"),k=n("Breadcrumb"),V=n("PlusIcon"),I=n("Link"),x=n("PencilSquareIcon"),E=n("ModelOptions"),U=n("Alert"),M=n("EyeIcon"),P=n("EyeSlashIcon"),S=n("InputError"),A=n("Listbox");return m(),c(f,null,[d(v,{title:"Edit User"}),s("div",null,[s("div",ts,[s("div",rs,[s("div",os,[s("div",is,[d(k,{breadcrumbs:r.breadcrumbs},null,8,["breadcrumbs"])]),s("div",ds,[d(I,{href:o.route("user.create"),class:"inline-flex items-center w-full rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white hover:bg-gray-50 text-sm font-medium text-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 focus:ring-primary-400"},{default:L(()=>[d(V,{class:"-ml-1 mr-2 h-5 w-5 text-gray-400","aria-hidden":"true"}),u(" Create ")]),_:1},8,["href"])])])])]),s("div",as,[s("div",ns,[s("div",ls,[s("div",ms,[cs,s("div",us,[s("button",{type:"submit",onClick:e[0]||(e[0]=(...t)=>r.submit&&r.submit(...t)),disabled:i.user.is_admin,class:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},[d(x,{class:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),u(" Update ")],8,gs),d(E,{detailHref:o.route("user.show",i.user.id),editHref:null,deleteHref:o.route("user.destroy",i.user.id),deleteMessage:"Do you really want to delete this user?"},null,8,["detailHref","deleteHref"])])]),d(U),s("form",{onSubmit:e[11]||(e[11]=N((...t)=>r.submit&&r.submit(...t),["prevent"]))},[s("dl",_s,[s("div",fs,[s("div",ps,[xs,s("dd",bs,[l(s("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>r.form.name=t),placeholder:"Name",type:"text",disabled:i.user.is_admin,class:"block w-full px-4 focus:ring-indigo-400 focus:border-indigo-400 hover:bg-gray-100 focus:bg-transparent sm:text-sm border-gray-300 rounded"},null,8,hs),[[_,r.form.name]])])]),s("div",ys,[ws,s("dd",vs,[l(s("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>r.form.email=t),placeholder:"Email",type:"email",autocomplete:"email",disabled:i.user.is_admin,class:"block w-full px-4 focus:ring-indigo-400 focus:border-indigo-400 hover:bg-gray-100 focus:bg-transparent sm:text-sm border-gray-300 rounded"},null,8,ks),[[_,r.form.email]])])]),s("div",Vs,[Is,s("dd",Es,[s("div",Us,[l(s("input",{class:"focus-within:z-10 focus:ring-indigo-400 focus:border-indigo-400 hover:bg-gray-100 focus:bg-transparent block w-full px-4 sm:text-sm border-gray-300 rounded-l",type:a.password_invisible?"password":"text",placeholder:"Password","onUpdate:modelValue":e[3]||(e[3]=t=>r.form.password=t),disabled:i.user.is_admin,label:"Password",autocomplete:"new-password"},null,8,Ms),[[O,r.form.password]]),s("span",Ps,[l(d(M,{onClick:e[4]||(e[4]=t=>a.password_invisible=!a.password_invisible),class:"w-5 h-5 cursor-pointer hover:text-green-500","aria-hidden":"true"},null,512),[[b,!a.password_invisible]]),l(d(P,{onClick:e[5]||(e[5]=t=>a.password_invisible=!a.password_invisible),class:"w-5 h-5 cursor-pointer hover:text-red-500","aria-hidden":"true"},null,512),[[b,a.password_invisible]])])])])]),s("div",Ss,[As,s("dd",js,[s("div",Bs,[Cs,l(s("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>r.form.mobile=t),placeholder:"Mobile",type:"text",disabled:i.user.is_admin,class:"block w-full px-4 pl-16 focus:outline-none focus:ring-primary-400 focus:border-primary-400 focus:bg-transparent hover:bg-gray-100 sm:text-sm border-gray-300 rounded"},null,8,Hs),[[_,r.form.mobile]])])])]),s("div",Ls,[Ns,s("dd",Os,[l(s("textarea",{"onUpdate:modelValue":e[7]||(e[7]=t=>r.form.address=t),placeholder:"Address Here",rows:"4",type:"text",disabled:i.user.is_admin,class:"block w-full px-4 focus:ring-indigo-400 focus:border-indigo-400 hover:bg-gray-100 focus:bg-transparent sm:text-sm border-gray-300 rounded"},null,8,Ds),[[_,r.form.address]]),d(S,{message:o.$page.props.errors.address},null,8,["message"])])]),i.user.is_admin?p("",!0):(m(),c("div",qs,[Ts,s("dd",zs,[s("div",Fs,[(m(!0),c(f,null,h(i.user.types,(t,g)=>(m(),c("label",{key:g,class:"flex items-center mr-5"},[l(s("input",{"onUpdate:modelValue":e[8]||(e[8]=j=>r.form.type=j),value:g,type:"radio",class:"form-radio w-5 h-5 border-gray-300 text-indigo-500 cursor-pointer focus:ring-indigo-500"},null,8,Rs),[[y,r.form.type]]),s("span",Xs,w(t),1)]))),128)),s("label",Zs,[l(s("input",{"onUpdate:modelValue":e[9]||(e[9]=t=>r.form.type=t),value:"other",type:"radio",class:"form-radio w-5 h-5 border-gray-300 text-indigo-500 cursor-pointer focus:ring-indigo-500"},null,512),[[y,r.form.type]]),Gs])])])])),!i.user.is_admin&&r.form.type=="other"?(m(),c("div",Js,[Ks,s("dd",Qs,[d(A,{class:"mt-1",modelValue:r.form.role_id,"onUpdate:modelValue":e[10]||(e[10]=t=>r.form.role_id=t),items:i.roles},null,8,["modelValue","items"])])])):p("",!0),i.user.is_admin?p("",!0):(m(),c("div",Ws,[Ys,s("dd",$s,[s("div",se,[(m(!0),c(f,null,h(r.form.branches,t=>(m(),c("label",{key:t.id,class:"flex items-center mr-5"},[l(s("input",{"onUpdate:modelValue":g=>t.is_checked=g,type:"checkbox",class:"form-checkbox w-5 h-5 border-gray-300 text-indigo-500 cursor-pointer focus:ring-indigo-500"},null,8,ee),[[T,t.is_checked]]),s("span",te,w(t.name),1)]))),128))])])]))]),re,s("div",oe,[s("div",ie,[s("button",{type:"submit",disabled:i.user.is_admin,class:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},[d(x,{class:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),u(" Update ")],8,de)])])])],32)])])])])],64)}const Ae=J(es,[["render",ae]]);export{Ae as default};
