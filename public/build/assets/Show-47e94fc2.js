import{x as J,o as r,f as i,b as e,Z as U,j as Y,r as w,y as u,a as l,t as a,F as v,p as b,w as c,n as m,O as E,i as S,s as B,c as C,q as N,d as O,e as Q,g as y}from"./app-4cf649ca.js";import{S as Z}from"./Status-80576172.js";import{_ as K}from"./Notification-0fe8eda5.js";import{_ as W}from"./_plugin-vue_export-helper-c27b6911.js";import{U as $,G as ee,V as te,Y as se,h as oe,S as ne,a as L,r as R,b as z}from"./TruckIcon-2f13eb25.js";import{r as re,a as le}from"./Bars3BottomLeftIcon-ad01e9f9.js";import{r as ae}from"./PlusIcon-ea154e9d.js";import{M as ie,R as de,y as ce,h as ue,r as fe}from"./XMarkIcon-4b7ba5d6.js";import"./XMarkIcon-1e2e326f.js";import"./hidden-253ee999.js";const P="Coffee Roasters";J({refreshDuration:15,executionTime:null,categories:[],customers:[],dineTypes:[],discountTypes:[],employees:[],paymentMethods:[],products:[],riders:[],statuses:[],topProducts:[],async get(){let s=JSON.parse(sessionStorage.getItem(P+"/pos")),d=(new Date().getTime()-((s==null?void 0:s.executionTime)??0))/1e3;!s||d>this.refreshDuration?await axios.get("/api/basic").then(o=>{this.executionTime=new Date().getTime(),s=o.data,console.log("record load from server")}).catch(o=>{console.log(o)}):(console.log("record load from storage"),this.executionTime=s.executionTime),this.categories=s.categories,this.customers=s.customers,this.dineTypes=s.dineTypes,this.discountTypes=s.discountTypes,this.employees=s.employees,this.paymentMethods=s.paymentMethods,this.products=s.products,this.riders=s.riders,this.statuses=s.statuses,this.topProducts=s.topProducts,this.set()},set(){sessionStorage.setItem(P+"/pos",JSON.stringify(this))}});function _e(s,d){return r(),i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z","clip-rule":"evenodd"})])}function me(s,d){return r(),i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z","clip-rule":"evenodd"})])}const he={components:{Notification:K,Status:Z,Dialog:$,DialogPanel:ee,DialogTitle:te,DialogOverlay:se,Head:U,Link:Y,Menu:ie,MenuButton:de,MenuItem:ce,MenuItems:ue,TransitionChild:oe,TransitionRoot:ne,Bars3BottomLeftIcon:re,ArrowLeftOnRectangleIcon:le,CheckIcon:_e,BriefcaseIcon:L,PlusIcon:ae,HomeIcon:R,TruckIcon:z,ChevronRightIcon:me,XMarkIcon:fe},props:{app:Object,auth:Object,navigation:Object,string_change:Object,orders:Array,order:Object},setup(s){const d=w(!1),o=w(!1),n=s.order?w(!0):w(!1),I=[{name:"Dashboard",icon:R,href:route("dashboard"),current:!1,visible:!0},{name:"Pending",icon:z,href:route("delivery.show"),current:!0,visible:!0},{name:"Delivery",icon:L,href:route("delivery.index"),current:!1,visible:!0}];function T(){var g;E.patch(route("delivery.status.update",(g=s.order)==null?void 0:g.id))}const k={pending:"bg-yellow-100 text-yellow-900 rounded-full",accept:"bg-blue-100 text-blue-900 rounded-full",collect:"bg-rose-100 text-rose-900 rounded-full",delivered:"bg-green-100 text-green-900 rounded-full"};return{order_delivery:s.order.order_delivery,submit:T,pageNavigation:I,mobileMenuOpen:d,modalOpen:o,orderOpen:n,colorClasses:k}}},xe={class:"flex h-screen print:hidden"},pe={class:"hidden w-28 overflow-y-auto bg-primary-700 lg:block"},ve={class:"flex w-full h-full flex-col items-center py-6"},ye={href:"/",class:"flex flex-shrink-0 items-center"},ge=["src"],we={key:1,class:"text-secondary-500 px-3 text-xl font-fancy leading-6 font-medium"},be={class:"mt-6 w-full flex-1 space-y-1 px-2"},ke={class:"mt-2"},Ce={class:"pb-5 w-full flex flex-col space-y-1 px-2"},Oe=e("span",{class:"mt-2 flex items-center"},"Logout",-1),Ie=["src"],Te={class:"sr-only"},je=e("p",null,"Account settings",-1),De=e("div",{class:"fixed inset-0 bg-stone-600 bg-opacity-75"},null,-1),Me={class:"fixed inset-0 z-40 flex"},Se={class:"absolute top-1 right-0 -mr-14 p-1"},Be=e("span",{class:"sr-only"},"Close sidebar",-1),Ne={class:"flex flex-shrink-0 items-center px-4"},Le=["src"],Re={key:1,class:"text-secondary-500 px-3 text-xl font-fancy leading-6 font-medium"},ze={class:"mt-5 h-0 flex-1 overflow-y-auto px-2"},Pe={class:"flex h-full flex-col"},Ae={class:"space-y-1"},Ve=["href","aria-current"],He=e("div",{class:"w-14 flex-shrink-0","aria-hidden":"true"},null,-1),Xe={class:"flex flex-1 flex-col overflow-hidden"},qe={class:"min-w-md flex flex-1 items-stretch overflow-hidden"},Fe={class:"flex-1 overflow-y-auto"},Ge={"aria-labelledby":"primary-heading",class:"flex h-full min-w-0 flex-1 flex-col lg:order-last"},Je=e("h1",{id:"primary-heading",class:"sr-only"},"Products",-1),Ue={class:"flex flex-col relative w-full h-full divide-y divide-stone-200"},Ye={class:"flex-1 flex w-full shrink-0 bg-white space-y-2 overflow-y-auto"},Ee={class:"flex-1 flex flex-col lg:flex-row divide-x divide-stone-200 w-full"},Qe={class:"flex-1 flex flex-col relative z-0 divide-y divide-stone-200 overflow-hidden focus:outline-none"},Ze={class:"w-full"},Ke={class:"relative z-10 flex h-12 flex-shrink-0 bg-white shadow-sm"},We=e("span",{class:"sr-only"},"Open sidebar",-1),$e=e("div",{class:"flex flex-1 justify-between px-4 sm:px-6"},[e("div",{class:"flex flex-1"})],-1),et={class:"flex-1 h-full overflow-y-auto py-2"},tt={role:"list",class:"divide-y divide-gray-100"},st={class:"px-4 sm:px-6 lg:px-8"},ot={class:"flex gap-x-4"},nt={class:"min-w-0 flex-auto"},rt={class:"flex items-start gap-x-3"},lt={class:"text-sm font-medium leading-6 text-gray-700"},at={class:"mt-1 flex items-center gap-x-2 text-xs leading-5 text-gray-500"},it={class:"whitespace-nowrap"},dt=["datetime"],ct={class:"mt-1 flex items-center gap-x-2 text-sm leading-5 font-medium text-gray-700"},ut={class:""},ft={class:"flex items-center gap-x-4"},_t={class:"hidden sm:flex sm:flex-col sm:items-end"},mt={class:"text-base leading-6 text-gray-900"},ht={class:"hidden w-96 bg-white lg:block relative"},xt=e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1),pt={class:"fixed inset-0 overflow-hidden"},vt={class:"absolute inset-0 overflow-hidden"},yt={class:"pointer-events-none fixed inset-y-0 right-0 flex max-w-full pl-10"},gt={class:"flex items-start justify-between px-4 sm:px-6"},wt={class:"text-lg font-medium text-gray-900 flex flex-col justify-center items-center w-full py-4"},bt={class:"flex text-base font-medium space-x-0"},kt={key:0,class:""},Ct={key:1,class:"mt-0.5 shrink-0 h-5 w-5 text-gray-500",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20","aria-hidden":"true"},Ot=e("path",{d:"M5.555 17.776l8-16 .894.448-8 16-.894-.448z"},null,-1),It=[Ot],Tt=["href"],jt={class:"mt-1 text-xs text-gray-500 whitespace-nowrap"},Dt=["datetime"],Mt={class:"mt-2 font-normal text-gray-700 text-sm"},St={class:"flex-1 overflow-y-auto px-4 py-6 sm:px-6 border-t border-gray-200"},Bt={class:"mt-2"},Nt={class:"flow-root"},Lt={role:"list",class:"-my-6 space-y-2 divide-y divide-gray-200"},Rt={class:"text-sm leading-5 font-semibold text-stone-800 capitalize"},zt={class:"flex justify-center items-center"},Pt={class:"space-x-1 inline-flex text-sm leading-5 text-stone-600 text-right sm:text-left"},At={class:""},Vt=e("span",{class:""}," à§³",-1),Ht={class:"ml-auto space-x-1 flex rounded-md text-stone-600"},Xt=e("span",{class:""},"Quantity",-1),qt={class:""},Ft={class:"border-t border-gray-200 py-6 px-4 sm:px-6 space-y-2"},Gt={key:0,class:"flex justify-between text-sm font-normal text-gray-900"},Jt=e("p",null,"Collection time",-1),Ut={class:"text-base font-normal"},Yt={key:1,class:"flex justify-between text-sm font-normal text-gray-900"},Et=e("p",null,"Delivery time",-1),Qt={class:"text-base font-normal"},Zt={class:"flex justify-between text-sm font-normal text-gray-900"},Kt=e("p",null,"Subtotal",-1),Wt={class:"text-base font-normal"},$t={class:"flex justify-between text-sm font-normal text-gray-900"},es=e("p",null,"VAT",-1),ts={class:"text-base font-normal"},ss={class:"flex justify-between text-sm font-normal text-gray-900"},os=e("p",null,"Delivery",-1),ns={class:"text-base font-normal"},rs={class:"flex justify-between text-sm font-medium text-gray-900"},ls=e("p",null,"Total",-1),as={class:"text-base font-semibold"},is={class:"mt-4"},ds={key:0,type:"submit",class:"w-full inline-flex justify-center items-center gap-x-1.5 rounded-md bg-blue-600 px-3 py-2 text-sm font-semibold text-blue-50 shadow-sm hover:bg-blue-700 border border-blue-600"},cs={key:1,type:"submit",class:"w-full inline-flex justify-center items-center gap-x-1.5 rounded-md bg-rose-600 px-3 py-2 text-sm font-semibold text-rose-50 shadow-sm hover:bg-rose-700 border border-rose-600"},us={key:2,type:"submit",class:"w-full inline-flex justify-center items-center gap-x-1.5 rounded-md bg-green-600 px-3 py-2 text-sm font-semibold text-green-50 shadow-sm hover:bg-green-700 border border-green-600"};function fs(s,d,o,n,I,T){const k=u("Head"),h=u("Link"),g=u("ArrowLeftOnRectangleIcon"),x=u("TransitionChild"),A=u("XMarkIcon"),j=u("DialogPanel"),D=u("Dialog"),M=u("TransitionRoot"),V=u("Notification"),H=u("Bars3BottomLeftIcon"),X=u("Status"),q=u("ChevronRightIcon"),F=u("CheckIcon");return r(),i(v,null,[l(k,{title:"Delivery"}),e("div",xe,[e("div",pe,[e("div",ve,[e("a",ye,[o.app.logo?(r(),i("img",{key:0,class:"h-16 w-auto",src:o.app.logo,alt:"logo"},null,8,ge)):(r(),i("span",we,a(o.app.name),1))]),e("div",be,[(r(!0),i(v,null,b(n.pageNavigation,t=>S((r(),C(h,{key:t.name,href:t.href,class:m([t.current?"bg-primary-800 text-white":"text-primary-100 hover:bg-primary-800 hover:text-white","group w-full p-3 rounded-md flex flex-col items-center text-xs font-medium"]),"aria-current":t.current?"page":void 0},{default:c(()=>[(r(),C(N(t.icon),{class:m([t.current?"text-white":"text-primary-300 group-hover:text-white","h-6 w-6"]),"aria-hidden":"true"},null,8,["class"])),e("span",ke,a(t.name),1)]),_:2},1032,["href","class","aria-current"])),[[B,t.visible]])),128))]),e("div",Ce,[l(h,{href:s.route("logout"),method:"post",as:"button",class:m(["text-primary-100 hover:bg-primary-800 hover:text-white","group w-full p-3 rounded-md flex flex-col items-center text-xs font-medium"])},{default:c(()=>[l(g,{class:"text-primary-300 group-hover:text-white h-6 w-6","aria-hidden":"true"}),Oe]),_:1},8,["href"]),l(h,{href:s.route("profile.index"),class:"w-full flex-shrink-0"},{default:c(()=>{var t,f;return[e("img",{class:"mx-auto block h-10 w-10 rounded-full",src:((t=o.auth.user)==null?void 0:t.image_url)??s.$page.props.app.avatar,alt:"Image"},null,8,Ie),e("div",Te,[e("p",null,a((f=o.auth.user)==null?void 0:f.name),1),je])]}),_:1},8,["href"])])])]),l(M,{as:"template",show:n.mobileMenuOpen},{default:c(()=>[l(D,{as:"div",class:"relative z-20 lg:hidden",onClose:d[1]||(d[1]=t=>n.mobileMenuOpen=!1)},{default:c(()=>[l(x,{as:"template",enter:"transition-opacity ease-linear duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"transition-opacity ease-linear duration-300","leave-from":"opacity-100","leave-to":"opacity-0"},{default:c(()=>[De]),_:1}),e("div",Me,[l(x,{as:"template",enter:"transition ease-in-out duration-300 transform","enter-from":"-translate-x-full","enter-to":"translate-x-0",leave:"transition ease-in-out duration-300 transform","leave-from":"translate-x-0","leave-to":"-translate-x-full"},{default:c(()=>[l(j,{class:"relative flex w-full max-w-xs flex-1 flex-col bg-primary-700 pt-5 pb-4"},{default:c(()=>[l(x,{as:"template",enter:"ease-in-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in-out duration-300","leave-from":"opacity-100","leave-to":"opacity-0"},{default:c(()=>[e("div",Se,[e("button",{type:"button",class:"flex h-12 w-12 items-center justify-center rounded-full focus:outline-none focus:ring-2 focus:ring-white",onClick:d[0]||(d[0]=t=>n.mobileMenuOpen=!1)},[l(A,{class:"h-6 w-6 text-white","aria-hidden":"true"}),Be])])]),_:1}),e("div",Ne,[o.app.logo?(r(),i("img",{key:0,class:"h-16 w-auto",src:o.app.logo,alt:"logo"},null,8,Le)):(r(),i("span",Re,a(o.app.name),1))]),e("div",ze,[e("nav",Pe,[e("div",Ae,[(r(!0),i(v,null,b(n.pageNavigation,t=>S((r(),i("a",{key:t.name,href:t.href,class:m([t.current?"bg-primary-800 text-white":"text-primary-100 hover:bg-primary-800 hover:text-white","group py-2 px-3 rounded-md flex items-center text-sm font-medium"]),"aria-current":t.current?"page":void 0},[(r(),C(N(t.icon),{class:m([t.current?"text-white":"text-primary-300 group-hover:text-white","mr-3 h-6 w-6"]),"aria-hidden":"true"},null,8,["class"])),e("span",null,a(t.name),1)],10,Ve)),[[B,t.visible]])),128))])])])]),_:1})]),_:1}),He])]),_:1})]),_:1},8,["show"]),l(V),e("div",Xe,[e("div",qe,[e("main",Fe,[e("section",Ge,[Je,e("div",Ue,[e("div",Ye,[e("section",Ee,[e("div",Qe,[e("header",Ze,[e("div",Ke,[e("button",{type:"button",class:"border-r border-stone-200 px-4 text-stone-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary-500 lg:hidden",onClick:d[2]||(d[2]=t=>n.mobileMenuOpen=!0)},[We,l(H,{class:"h-6 w-6","aria-hidden":"true"})]),$e])]),e("div",et,[e("ul",tt,[(r(!0),i(v,null,b(o.orders,t=>(r(),i("li",{key:t.id,class:m([t.id==o.order.id?"bg-slate-50":"hover:bg-slate-50","relative"])},[e("div",st,[l(h,{href:s.route("delivery.show",t.id),class:"py-5 mx-auto flex max-w-4xl justify-between gap-x-6"},{default:c(()=>{var f,p,_;return[e("div",ot,[e("div",nt,[e("div",rt,[e("p",lt,a((f=t.order_delivery)==null?void 0:f.customer_name),1),l(X,{class:"ml-0",name:(p=t.order_delivery)==null?void 0:p.status,colors:n.colorClasses},null,8,["name","colors"])]),e("div",at,[e("p",it,[O(" Order at "),e("time",{datetime:t.date},a(t.datetime_format),9,dt)])]),e("div",ct,[e("p",ut,a((_=t.order_delivery)==null?void 0:_.address),1)])])]),e("div",ft,[e("div",_t,[e("p",mt,a(t.total)+" à§³",1)]),l(q,{class:"h-5 w-5 flex-none text-gray-400","aria-hidden":"true"})])]}),_:2},1032,["href"])])],2))),128))])])])])])])])]),e("aside",ht,[l(M,{as:"template",show:n.orderOpen},{default:c(()=>[l(D,{as:"div",class:"relative z-20",onClose:d[4]||(d[4]=t=>n.orderOpen=!1)},{default:c(()=>[l(x,{as:"template",enter:"ease-in-out duration-500","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in-out duration-500","leave-from":"opacity-100","leave-to":"opacity-0"},{default:c(()=>[xt]),_:1}),e("div",pt,[e("div",vt,[e("div",yt,[l(x,{as:"template",enter:"transform transition ease-in-out duration-500 sm:duration-700","enter-from":"translate-x-full","enter-to":"translate-x-0",leave:"transform transition ease-in-out duration-500 sm:duration-700","leave-from":"translate-x-0","leave-to":"translate-x-full"},{default:c(()=>[l(j,{class:"pointer-events-auto w-screen max-w-md"},{default:c(()=>{var t,f,p;return[e("form",{onSubmit:d[3]||(d[3]=Q((..._)=>n.submit&&n.submit(..._),["prevent"])),class:"flex h-full flex-col overflow-y-scroll bg-white shadow-xl"},[e("div",gt,[e("div",wt,[e("div",bt,[n.order_delivery.customer_name!=n.order_delivery.customer_mobile?(r(),i("h3",kt,a(n.order_delivery.customer_name),1)):y("",!0),n.order_delivery.customer_name!=n.order_delivery.customer_mobile?(r(),i("svg",Ct,It)):y("",!0),e("a",{href:"tel:"+n.order_delivery.customer_mobile,class:""},a(n.order_delivery.customer_mobile),9,Tt)]),e("p",jt,[O(" Order at "),e("time",{datetime:o.order.date},a(o.order.datetime_format),9,Dt)]),e("p",Mt,a(n.order_delivery.address),1)])]),e("div",St,[e("div",Bt,[e("div",Nt,[e("ul",Lt,[(r(!0),i(v,null,b(o.order.products,(_,G)=>(r(),i("li",{key:G,class:"flex flex-col sm:text-sm font-medium px-3 py-2 space-y-1"},[e("div",Rt,a(_.product_name),1),e("div",zt,[e("div",Pt,[e("span",At,a(_.rate),1),Vt]),e("div",Ht,[Xt,e("span",qt,a(_.quantity),1)])])]))),128))])])])]),e("div",Ft,[n.order_delivery.accepted_at?(r(),i("div",Gt,[Jt,e("p",Ut,a(n.order_delivery.collection_time),1)])):y("",!0),n.order_delivery.collected_at?(r(),i("div",Yt,[Et,e("p",Qt,a(n.order_delivery.delivery_time),1)])):y("",!0),e("div",Zt,[Kt,e("p",Wt,a(o.order.sub_total)+" à§³",1)]),e("div",$t,[es,e("p",ts,a(o.order.vat_amount)+" à§³",1)]),e("div",ss,[os,e("p",ns,a(o.order.delivery_cost)+" à§³",1)]),e("div",rs,[ls,e("p",as,a(o.order.total)+" à§³",1)]),e("div",is,[(t=o.order.order_delivery)!=null&&t.accepted_at?(f=o.order.order_delivery)!=null&&f.collected_at?(p=o.order.order_delivery)!=null&&p.delivered_at?y("",!0):(r(),i("button",us," Delivered ")):(r(),i("button",cs," Collect ")):(r(),i("button",ds,[l(F,{class:"hidden sm:block -ml-0.5 h-5 w-5","aria-hidden":"true"}),O(" Accept ")]))])])],32)]}),_:1})]),_:1})])])])]),_:1})]),_:1},8,["show"])])])])])],64)}const ks=W(he,[["render",fs]]);export{ks as default};
