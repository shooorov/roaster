import{Z as j,j as N,x as R,y as g,o as _,f,a as l,b as t,w as K,t as m,e as M,i,s as b,z as d,v as E,F as y,p as v,d as x,O as L,A as S}from"./app-4cf649ca.js";import{_ as D}from"./AuthenticatedLayout-cbb3e46c.js";import{B as T}from"./Breadcrumb-f1c489ac.js";import{M as B}from"./ModelOptions-9835f210.js";import{_ as X,r as O}from"./Alert-8ade166f.js";import{_ as Q}from"./InputError-79155e62.js";import{_ as H}from"./Listbox-92b5110c.js";import{_ as z}from"./_plugin-vue_export-helper-c27b6911.js";import{r as Z}from"./PlusIcon-18baa55b.js";import{r as G}from"./ArrowPathIcon-9a3bcc07.js";import{r as J}from"./PencilSquareIcon-5a2dd2ec.js";import{r as W}from"./XMarkIcon-1e2e326f.js";import{r as Y}from"./PhoneXMarkIcon-58386bb7.js";import"./TruckIcon-2f13eb25.js";import"./hidden-253ee999.js";import"./ShoppingCartIcon-90f63347.js";import"./ShoppingBagIcon-e5743d77.js";import"./XMarkIcon-4b7ba5d6.js";import"./ChevronDownIcon-9563394f.js";import"./ChevronUpDownIcon-0b91429b.js";import"./ArrowTopRightOnSquareIcon-61c7f57b.js";import"./CheckIcon-20c25c5e.js";const $={layout:D,components:{Alert:X,Breadcrumb:T,ModelOptions:B,Listbox:H,Head:j,InputError:Q,Link:N,PlusIcon:Z,ArrowPathIcon:G,PencilSquareIcon:J,XMarkIcon:W,PhoneXMarkIcon:Y,XCircleIcon:O},props:{string_change:Object,product:Object,products:Array,categories:Array,items:Array,units:Array},methods:{onFileInput(r){return URL.createObjectURL(r)},removePlatter(r){confirm("Are you sure you want to delete this element?")&&this.form.platter_items.splice(r,1)},addPlatter(){this.form.platter_items.push({item_id:null,quantity:1})},removeItem(r){confirm("Are you sure you want to delete this element?")&&this.form.group_items.splice(r,1)},addItem(){this.form.group_items.push({id:"",item_id:"",quantity_use:null,unit_use:null,avg_rate:null})},total(){let r=Number(this.form.rate),e=Number(this.form.discount),a=Number(this.form.production_cost),s=!this.is_platter,h=r>0;this.form.total=(r-e).toFixed(2);let n=s&&h?(r-a).toFixed(2):null;this.form.margin_amount=n,this.form.margin_percent=s&&h?(n/r*100).toFixed(2):null},calculation(r){if(r!=null){let e=this.form.group_items[r],a=this.items.find(s=>s.name==e.item_name);if(e.item_id=(a==null?void 0:a.id)??null,e.avg_rate=(a==null?void 0:a.avg_rate)??null,e.unit=(a==null?void 0:a.unit)??null,e.unit_use=null,e.quantity_use=0,e.cost=0,a&&e.total_quantity>0)switch(e.unit){case"kg":e.unit_use="g",e.quantity_use=(e.total_quantity*1e3/this.form.ingredients_for).toFixed(3),e.cost=(a.avg_rate/1e3*e.quantity_use).toFixed(2);break;case"l":e.unit_use="ml",e.quantity_use=(e.total_quantity*1e3/this.form.ingredients_for).toFixed(3),e.cost=(a.avg_rate/1e3*e.quantity_use).toFixed(2);break;case"pcs":e.unit_use="pcs",e.quantity_use=e.total_quantity/this.form.ingredients_for,e.cost=(a.avg_rate*e.quantity_use).toFixed(2);break;default:e.unit_use=null,e.quantity_use=0,e.cost=0;break}}else this.form.group_items.forEach(e=>{let a=this.items.find(h=>h.id==e.item_id);e.cost=a?e.unit_use!="pcs"?(a.avg_rate/1e3*e.quantity_use).toFixed(2):(a.avg_rate*e.quantity_use).toFixed(2):null;let s=e.unit_use!="pcs"?(e.quantity_use/1e3*this.form.ingredients_for).toFixed(3):(e.quantity_use*this.form.ingredients_for).toFixed(3);e.total_quantity=s>0?Number(s):null});this.form.production_cost=this.form.group_items.reduce((e,a)=>e+Number(a.cost||0),0),this.form.production_cost=this.form.production_cost.toFixed(2),this.total()},platterCalculation(r=void 0){if(r!=null){let e=this.form.platter_items[r],a=this.products.find(s=>s.name==e.item_name);e.rate=(a==null?void 0:a.rate)??null,e.item_id=(a==null?void 0:a.id)??null,e.cost=a?((e.rate||0)*(e.quantity||0)).toFixed(2):null}else this.form.platter_items.forEach(e=>{let a=this.products.find(s=>s.id==e.item_id);e.item_name=(a==null?void 0:a.name)??null,e.rate=(a==null?void 0:a.rate)??null,e.item_id=(a==null?void 0:a.id)??null,e.cost=a?((a.rate||0)*(e.quantity||0)).toFixed(2):null});this.form.production_cost=this.form.platter_items.reduce((e,a)=>e+Number(a.cost||0),0),this.form.production_cost=this.form.production_cost.toFixed(2),this.total()}},mounted(){console.log(this.product.is_platter),this.product.is_platter?this.platterCalculation():this.calculation()},watch:{"form.product_category_id"(){let r=this.categories.find(e=>e.id==this.form.product_category_id);this.is_platter=r==null?void 0:r.is_platter}},data(){return{is_platter:this.product.is_platter}},setup(r){var h;const e=[{name:r.string_change.product_s,href:route("product.index"),current:!1},{name:"Edit Page",href:"#",current:!1}],a=R({code:r.product.code,name:r.product.name,english_name:r.product.english_name,rate:r.product.rate,discount:r.product.discount,number_of_persons:r.product.number_of_persons,total:r.product.rate-r.product.discount,description:r.product.description,vat_applicable:r.product.vat_applicable,product_category_id:r.product.product_category_id,production_cost:r.product.production_cost,ingredients_for:1,margin_amount:r.product.margin_amount,margin_percent:r.product.margin_percent,group_items:r.product.group_items.length?r.product.group_items:[{id:"",item_id:"",quantity_use:null,unit_use:null,avg_rate:null}],platter_items:(h=r.product.platter_items)!=null&&h.length?r.product.platter_items:[{item_id:null,quantity:1}],image:r.product.image,image_default:r.product.image_default,image_removed:!1});function s(){L.post(route("product.update",r.product.id),a)}return{breadcrumbs:e,form:a,submit:s}}},tt={class:"bg-white shadow"},et={class:"px-4 sm:px-6 lg:max-w-6xl lg:mx-auto lg:px-8"},ot={class:"py-6 md:flex md:items-center md:justify-between lg:border-t lg:border-gray-200"},st={class:"flex-1 min-w-0"},rt={class:"mt-6 h-9 flex space-x-3 md:mt-0 md:ml-4"},at={class:"py-5"},nt={class:"max-w-6xl mx-auto sm:px-6 lg:px-8"},lt={class:"bg-white shadow sm:rounded-lg"},it={class:"flex flex-col sm:flex-row sm:justify-between items-center px-4 py-5 border-b border-gray-200 sm:px-8"},dt={class:"max-w-2xl leading-10 text-gray-700 text-lg font-medium mb-4 sm:mb-0"},ct=t("div",{class:"flex-shrink-0 flex space-x-3"},null,-1),mt={class:"space-y-4 sm:space-y-6 px-5 py-6"},ut={class:"max-w-xl mx-auto"},pt={class:"grid grid-cols-4 gap-4"},gt={class:"col-span-4 sm:col-span-2"},_t=t("label",{class:"mb-1 block text-sm font-medium text-gray-700"}," Image ",-1),ft={class:"relative h-32 w-64"},ht={class:"flex text-sm text-gray-700 border border-gray-400 rounded-md bg-gray-50"},xt=["src"],yt=t("span",{class:"text-xs text-black"},"Click to upload",-1),bt=[yt],vt={class:"absolute top-0 right-0 px-0 py-0 bg-gray-50 opacity-60",title:"Remove Image"},wt={class:"absolute top-0 left-0 px-0 py-0 bg-gray-50 opacity-60",title:"Refresh Image"},kt=t("div",{class:"col-span-4 sm:col-span-2"},null,-1),Ct={class:"col-span-4 sm:col-span-2"},qt=t("label",{class:"mb-1 block text-sm font-medium text-gray-700"},[x(" Categories "),t("span",{class:"text-red-500"},"*")],-1),Vt={class:"col-span-4 sm:col-span-2"},It=t("label",{class:"block text-sm font-medium text-gray-700"}," Code ",-1),Ut={class:"col-span-4 sm:col-span-4"},Pt=t("label",{class:"block text-sm font-medium text-gray-700"},[x(" Name "),t("span",{class:"text-red-500"},"*")],-1),Ft={class:"col-span-4 sm:col-span-4"},At=t("label",{class:"block text-sm font-medium text-gray-700"}," English Name ",-1),jt={class:"col-span-4 sm:col-span-4"},Nt=t("label",{class:"block text-sm font-medium text-gray-700"}," For Persons of ",-1),Rt={class:"col-span-4 sm:col-span-4"},Kt=t("label",{class:"block text-sm font-medium text-gray-700"}," Description ",-1),Mt={class:"col-span-4 sm:col-span-4"},Et={class:"relative flex items-start"},Lt={class:"flex items-center h-5"},St={class:"ml-3 text-sm"},Dt=t("label",{for:"vat-applicable",class:"font-medium text-gray-700"},"VAT Applicable",-1),Tt={key:0},Bt={class:"relative my-8"},Xt=t("div",{class:"absolute inset-0 flex items-center","aria-hidden":"true"},[t("div",{class:"w-full border-t border-gray-300"})],-1),Ot={class:"relative flex justify-center"},Qt={class:"px-3 bg-white text-lg font-medium text-gray-900"},Ht={id:"products_list"},zt=["value"],Zt={class:"max-w-4xl mx-auto"},Gt={class:"table-auto sm:table-fixed min-w-full divide-y divide-gray-200"},Jt={class:"bg-gray-50"},Wt={scope:"col",class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},Yt=t("th",{scope:"col",class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Quantity",-1),$t={scope:"col",class:"w-32 px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},te={scope:"col",class:"w-32 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},ee=t("th",{scope:"col",class:"w-10 px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},null,-1),oe={class:"bg-white divide-y divide-gray-200"},se={class:"px-1 py-2"},re=["onUpdate:modelValue","onChange","onKeyup"],ae={class:"px-1 py-2"},ne={class:"relative"},le=["onUpdate:modelValue","onChange","onKeyup"],ie=t("span",{class:"absolute py-2 top-0 right-0 m-px px-4 w-14 rounded-r-md border-l border-gray-300 bg-gray-100 sm:text-sm"}," pcs ",-1),de={class:"px-1 py-2"},ce=["value"],me={class:"px-1 py-2"},ue=["value"],pe={class:"px-1 py-2"},ge=["onClick"],_e={class:"bg-white"},fe={colspan:"1",class:"text-left pt-3"},he=t("th",{colspan:"2",class:"py-2 px-2 text-right text-base font-medium text-indigo-600"},"Regular Cost: ",-1),xe={class:"py-2 px-1 text-right text-lg font-medium"},ye=t("th",{class:"py-2 px-1 text-left text-lg font-medium"},"à§³",-1),be={class:"max-w-xl mx-auto mt-5"},ve={class:"grid grid-cols-4 gap-4"},we={class:"col-span-4 sm:col-span-2"},ke=t("label",{class:"mb-1 block text-sm font-medium text-gray-700"}," Regular Cost ",-1),Ce=["value"],qe=t("div",{class:"col-span-4 sm:col-span-2"},null,-1),Ve={class:"col-span-4 sm:col-span-2"},Ie=t("label",{class:"block text-sm font-medium text-gray-700"}," Rate / Sale Price ",-1),Ue={class:"relative"},Pe=t("span",{class:"absolute py-2 top-0 right-0 m-px px-4 rounded-r-md border-l border-gray-300 bg-gray-100 sm:text-sm"},"à§³",-1),Fe={class:"col-span-4 sm:col-span-2"},Ae=t("label",{class:"block text-sm font-medium text-gray-700"}," Discount ",-1),je={class:"relative"},Ne=t("span",{class:"absolute py-2 top-0 right-0 m-px px-4 rounded-r-md border-l border-gray-300 bg-gray-100 sm:text-sm"},"à§³",-1),Re={class:"col-span-4 sm:col-span-2"},Ke=t("label",{class:"block text-sm font-medium text-gray-700"}," Total ",-1),Me={class:"relative"},Ee=t("span",{class:"absolute py-2 top-0 right-0 m-px px-4 rounded-r-md border-l border-gray-300 bg-gray-100 sm:text-sm"},"à§³",-1),Le={key:1},Se={class:"relative my-8"},De=t("div",{class:"absolute inset-0 flex items-center","aria-hidden":"true"},[t("div",{class:"w-full border-t border-gray-300"})],-1),Te={class:"relative flex justify-center"},Be={class:"px-3 bg-white text-lg font-medium text-gray-900"},Xe={class:"max-w-2xl mx-auto my-4"},Oe={class:"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-gray-200"},Qe=t("label",{class:"block text-right text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"}," For ",-1),He={class:"mt-1 sm:col-span-1 sm:mt-0"},ze={class:"flex max-w-lg rounded-md shadow-sm"},Ze=t("span",{class:"inline-flex items-center rounded-r-md border border-l-0 border-gray-300 bg-gray-50 px-3 text-gray-500 sm:text-sm"},"pcs",-1),Ge={class:"block text-left text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},Je={id:"ingredients_list"},We=["value"],Ye={class:"max-w-4xl mx-auto"},$e={class:"table-auto sm:table-fixed min-w-full divide-y divide-gray-200"},to={class:"bg-gray-50"},eo={scope:"col",class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},oo={scope:"col",class:"w-32 px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},so=t("th",{scope:"col",class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Quantity",-1),ro=t("th",{scope:"col",class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Per Piece",-1),ao={scope:"col",class:"w-32 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},no=t("th",{scope:"col",class:"w-10 px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},null,-1),lo={class:"bg-white divide-y divide-gray-200"},io={class:"px-1 py-2"},co=["onUpdate:modelValue","onChange","onKeyup"],mo={class:"px-1 py-2"},uo=["value"],po={class:"px-1 py-2"},go={class:"relative"},_o=["onUpdate:modelValue","onChange","onKeyup","readonly"],fo={class:"absolute py-2 top-0 right-0 m-px px-4 w-14 rounded-r-md border-l border-gray-300 bg-gray-100 sm:text-sm"},ho={class:"px-1 py-2"},xo={class:"relative"},yo=["value"],bo={class:"absolute py-2 top-0 right-0 m-px px-4 w-14 rounded-r-md border-l border-gray-300 bg-gray-100 sm:text-sm"},vo={class:"px-1 py-2"},wo=["value"],ko={class:"px-1 py-2"},Co=["onClick"],qo={class:"bg-white"},Vo={colspan:"1",class:"text-left pt-3"},Io=t("th",{colspan:"3",class:"py-2 px-2 text-right text-base font-medium text-indigo-600"},"Production Cost: ",-1),Uo={class:"py-2 px-1 text-right text-lg font-medium"},Po=t("th",{class:"py-2 px-1 text-left text-lg font-medium"},"à§³",-1),Fo={class:"max-w-xl mx-auto mt-5"},Ao={class:"grid grid-cols-4 gap-4"},jo={class:"col-span-4 sm:col-span-2"},No=t("label",{class:"mb-1 block text-sm font-medium text-gray-700"}," Margin Amount ",-1),Ro={class:"relative"},Ko=t("span",{class:"absolute py-2 top-0 right-0 m-px px-4 rounded-r-md border-l border-gray-300 bg-gray-100 sm:text-sm"},"à§³",-1),Mo={class:"col-span-4 sm:col-span-2"},Eo=t("label",{class:"block text-sm font-medium text-gray-700"}," Margin Percent ",-1),Lo={class:"relative"},So=t("span",{class:"absolute py-2 top-0 right-0 m-px px-4 rounded-r-md border-l border-gray-300 bg-gray-100 sm:text-sm"},"%",-1),Do={class:"col-span-4 sm:col-span-2"},To=t("label",{class:"mb-1 block text-sm font-medium text-gray-700"}," Production Cost ",-1),Bo=["value"],Xo=t("div",{class:"col-span-4 sm:col-span-2"},null,-1),Oo={class:"col-span-4 sm:col-span-2"},Qo=t("label",{class:"block text-sm font-medium text-gray-700"}," Rate / Sale Price ",-1),Ho={class:"relative"},zo=t("span",{class:"absolute py-2 top-0 right-0 m-px px-4 rounded-r-md border-l border-gray-300 bg-gray-100 sm:text-sm"},"à§³",-1),Zo={class:"col-span-4 sm:col-span-2"},Go=t("label",{class:"block text-sm font-medium text-gray-700"}," Discount ",-1),Jo={class:"relative"},Wo=t("span",{class:"absolute py-2 top-0 right-0 m-px px-4 rounded-r-md border-l border-gray-300 bg-gray-100 sm:text-sm"},"à§³",-1),Yo={class:"col-span-4 sm:col-span-2"},$o=t("label",{class:"block text-sm font-medium text-gray-700"}," Total ",-1),ts={class:"relative"},es=t("span",{class:"absolute py-2 top-0 right-0 m-px px-4 rounded-r-md border-l border-gray-300 bg-gray-100 sm:text-sm"},"à§³",-1),os=S('<div class="relative"><div class="absolute inset-0 flex items-center" aria-hidden="true"><div class="w-full border-t border-gray-300"></div></div><div class="relative flex justify-center ml-4"><span class="px-3 bg-white text-lg font-medium text-gray-900"></span></div></div>',1),ss={class:"max-w-xl mx-auto"},rs={class:"flex justify-end"},as={type:"submit",class:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},ns=["href"],ls={type:"button",class:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500"};function is(r,e,a,s,h,n){const C=g("Head"),q=g("Breadcrumb"),w=g("PlusIcon"),V=g("Link"),I=g("Alert"),k=g("XMarkIcon"),U=g("ArrowPathIcon"),u=g("InputError"),P=g("Listbox"),F=g("PencilSquareIcon"),A=g("XCircleIcon");return _(),f(y,null,[l(C,{title:"Edit Product"}),t("div",null,[t("div",tt,[t("div",et,[t("div",ot,[t("div",st,[l(q,{breadcrumbs:s.breadcrumbs},null,8,["breadcrumbs"])]),t("div",rt,[l(V,{href:r.route("product.create"),class:"inline-flex items-center w-full rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white hover:bg-gray-50 text-sm font-medium text-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 focus:ring-primary-400"},{default:K(()=>[l(w,{class:"-ml-1 mr-2 h-5 w-5 text-gray-400","aria-hidden":"true"}),x(" Create ")]),_:1},8,["href"])])])])]),t("div",at,[t("div",nt,[t("div",lt,[t("div",it,[t("p",dt,m(a.string_change.product)+" Edit",1),ct]),l(I),t("form",{onSubmit:e[33]||(e[33]=M((...o)=>s.submit&&s.submit(...o),["prevent"]))},[t("dl",mt,[t("div",ut,[t("div",pt,[t("div",gt,[_t,t("div",ft,[t("div",ht,[t("img",{class:"object-cover h-32 w-64",src:s.form.image,title:"Click to upload image"},null,8,xt),t("div",{class:"absolute bottom-0 bg-gray-50 w-full text-center opacity-60 cursor-pointer",onClick:e[0]||(e[0]=o=>r.$refs.image.click())},bt),t("input",{ref:"image",type:"file",class:"hidden",onInput:e[1]||(e[1]=o=>s.form.image_file=o.target.files[0]),onChange:e[2]||(e[2]=o=>{s.form.image=n.onFileInput(o.target.files[0])}),accept:".png, .jpg, .jpeg"},null,544)]),i(t("div",vt,[l(k,{class:"w-5 h-5 text-red-500 hover:text-red-700 cursor-pointer","aria-hidden":"true",onClick:e[3]||(e[3]=o=>{s.form.image=s.form.image_default,s.form.image_file=null,s.form.image_removed=!0})})],512),[[b,s.form.image!=s.form.image_default]]),i(t("div",wt,[l(U,{class:"w-5 h-5 text-primary-500 hover:text-primary-700 cursor-pointer","aria-hidden":"true",onClick:e[4]||(e[4]=o=>{s.form.image=a.product.image,s.form.image_file=null,s.form.image_removed=!1})})],512),[[b,s.form.image!=a.product.image]])]),l(u,{message:r.$page.props.errors.image},null,8,["message"])]),kt,t("div",Ct,[qt,l(P,{class:"mt-1",modelValue:s.form.product_category_id,"onUpdate:modelValue":e[5]||(e[5]=o=>s.form.product_category_id=o),items:a.categories},null,8,["modelValue","items"]),l(u,{message:r.$page.props.errors.product_category_id},null,8,["message"])]),t("div",Vt,[It,i(t("input",{"onUpdate:modelValue":e[6]||(e[6]=o=>s.form.code=o),placeholder:"Code",type:"text",class:"mt-1 block w-full px-4 focus:ring-indigo-400 focus:border-indigo-400 hover:bg-gray-100 focus:bg-transparent sm:text-sm border-gray-300 rounded-md"},null,512),[[d,s.form.code]]),l(u,{message:r.$page.props.errors.code},null,8,["message"])]),t("div",Ut,[Pt,i(t("input",{"onUpdate:modelValue":e[7]||(e[7]=o=>s.form.name=o),placeholder:"Name",type:"text",class:"mt-1 block w-full px-4 focus:ring-indigo-400 focus:border-indigo-400 hover:bg-gray-100 focus:bg-transparent sm:text-sm border-gray-300 rounded-md"},null,512),[[d,s.form.name]]),l(u,{message:r.$page.props.errors.name},null,8,["message"])]),t("div",Ft,[At,i(t("input",{"onUpdate:modelValue":e[8]||(e[8]=o=>s.form.english_name=o),placeholder:"English Name",type:"text",class:"mt-1 block w-full px-4 focus:ring-indigo-400 focus:border-indigo-400 hover:bg-gray-100 focus:bg-transparent sm:text-sm border-gray-300 rounded-md"},null,512),[[d,s.form.english_name]]),l(u,{message:r.$page.props.errors.english_name},null,8,["message"])]),t("div",jt,[Nt,i(t("input",{"onUpdate:modelValue":e[9]||(e[9]=o=>s.form.number_of_persons=o),placeholder:"For how many persons",type:"text",oninput:"this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\\..*?)\\..*/g, '$1');",class:"mt-1 block w-full px-4 focus:ring-indigo-400 focus:border-indigo-400 hover:bg-gray-100 focus:bg-transparent sm:text-sm border-gray-300 rounded-md"},null,512),[[d,s.form.number_of_persons]]),l(u,{message:r.$page.props.errors.number_of_persons},null,8,["message"])]),t("div",Rt,[Kt,i(t("textarea",{"onUpdate:modelValue":e[10]||(e[10]=o=>s.form.description=o),placeholder:"Description",rows:"3",class:"mt-1 block w-full px-4 focus:ring-indigo-400 focus:border-indigo-400 hover:bg-gray-100 focus:bg-transparent sm:text-sm border-gray-300 rounded-md"},null,512),[[d,s.form.description]]),l(u,{message:r.$page.props.errors.description},null,8,["message"])]),t("div",Mt,[t("div",Et,[t("div",Lt,[i(t("input",{type:"checkbox",id:"vat-applicable",placeholder:"VAT Applicable","onUpdate:modelValue":e[11]||(e[11]=o=>s.form.vat_applicable=o),class:"group-checkbox form-checkbox w-5 h-5 focus:ring-primary-600 focus:border-primary-600 text-primary-600 transition duration-150 ease-in-out rounded select-none cursor-pointer"},null,512),[[E,s.form.vat_applicable]])]),t("div",St,[Dt,l(u,{message:r.$page.props.errors.vat_applicable},null,8,["message"])])])])])]),h.is_platter?(_(),f("div",Tt,[t("div",Bt,[Xt,t("div",Ot,[t("span",Qt,m(a.string_change.product_s),1)])]),t("datalist",Ht,[(_(!0),f(y,null,v(a.products,o=>(_(),f("option",{key:o.id,value:o.name},m(o.name),9,zt))),128))]),t("div",Zt,[t("table",Gt,[t("thead",Jt,[t("tr",null,[t("th",Wt,m(a.string_change.product),1),Yt,t("th",$t,m(a.string_change.product)+" Rate",1),t("th",te,m(a.string_change.product)+" Cost",1),ee])]),t("tbody",oe,[(_(!0),f(y,null,v(s.form.platter_items,(o,p)=>(_(),f("tr",{key:p},[t("td",se,[i(t("input",{list:"products_list","onUpdate:modelValue":c=>o.item_name=c,onChange:c=>n.platterCalculation(p),onKeyup:c=>n.platterCalculation(p),type:"text",class:"block w-full px-2 focus:ring-indigo-400 focus:border-indigo-400 hover:bg-gray-100 focus:bg-transparent sm:text-sm border-gray-300 rounded-md"},null,40,re),[[d,o.item_name]])]),t("td",ae,[t("div",ne,[i(t("input",{"onUpdate:modelValue":c=>o.quantity=c,onChange:c=>n.platterCalculation(p),onKeyup:c=>n.platterCalculation(p),placeholder:"Quantity",type:"text",oninput:"this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\\..*?)\\..*/g, '$1');",class:"block w-full px-4 pr-12 focus:ring-primary-400 focus:border-primary-400 sm:text-sm border-gray-300 rounded-md"},null,40,le),[[d,o.quantity]]),ie])]),t("td",de,[t("input",{value:o.rate,readonly:"",placeholder:"Rate",type:"text",class:"block w-full px-4 focus:ring-none focus:ring-0 focus:ring-primary-400 focus:border-primary-400 bg-gray-100 sm:text-sm border-gray-300 rounded-md"},null,8,ce)]),t("td",me,[t("input",{value:o.cost,readonly:"",placeholder:"Cost",type:"text",class:"block w-full px-4 focus:ring-none focus:ring-0 focus:ring-primary-400 focus:border-primary-400 bg-gray-100 sm:text-sm border-gray-300 rounded-md"},null,8,ue)]),t("td",pe,[i(t("button",{onClick:c=>[n.removePlatter(p),n.platterCalculation()],type:"button",class:"p-1 border border-transparent rounded-full shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500"},[l(k,{class:"h-4 w-4","aria-hidden":"true"})],8,ge),[[b,s.form.platter_items.length>1]])])]))),128))]),t("tfoot",_e,[t("tr",null,[t("th",fe,[t("button",{onClick:e[12]||(e[12]=o=>n.addPlatter()),type:"button",class:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm leading-4 font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},[x(" Add Item "),l(w,{class:"ml-2 -mr-0.5 h-4 w-4","aria-hidden":"true"})])]),he,t("th",xe,m(s.form.production_cost),1),ye])])])]),t("div",be,[t("div",ve,[t("div",we,[ke,t("input",{value:s.form.production_cost,placeholder:"Production Cost",readonly:"",type:"text",class:"mt-1 block w-full px-4 focus:ring-0 focus:ring-primary-400 focus:border-primary-400 bg-gray-100 sm:text-sm border-gray-300 rounded-md"},null,8,Ce)]),qe,t("div",Ve,[Ie,t("div",Ue,[i(t("input",{"onUpdate:modelValue":e[13]||(e[13]=o=>s.form.rate=o),onChange:e[14]||(e[14]=(...o)=>n.total&&n.total(...o)),onKeyup:e[15]||(e[15]=(...o)=>n.total&&n.total(...o)),placeholder:"Rate",type:"text",oninput:"this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\\..*?)\\..*/g, '$1');",autocomplete:"off",class:"mt-1 block w-full px-4 pr-12 focus:ring-indigo-400 focus:border-indigo-400 hover:bg-gray-100 focus:bg-transparent sm:text-sm border-gray-300 rounded-md"},null,544),[[d,s.form.rate]]),Pe]),l(u,{message:r.$page.props.errors.rate},null,8,["message"])]),t("div",Fe,[Ae,t("div",je,[i(t("input",{"onUpdate:modelValue":e[16]||(e[16]=o=>s.form.discount=o),onChange:e[17]||(e[17]=(...o)=>n.total&&n.total(...o)),onKeyup:e[18]||(e[18]=(...o)=>n.total&&n.total(...o)),placeholder:"Discount",type:"text",oninput:"this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\\..*?)\\..*/g, '$1');",autocomplete:"off",class:"mt-1 block w-full px-4 pr-12 focus:ring-indigo-400 focus:border-indigo-400 hover:bg-gray-100 focus:bg-transparent sm:text-sm border-gray-300 rounded-md"},null,544),[[d,s.form.discount]]),Ne]),l(u,{message:r.$page.props.errors.discount},null,8,["message"])]),t("div",Re,[Ke,t("div",Me,[i(t("input",{"onUpdate:modelValue":e[19]||(e[19]=o=>s.form.total=o),placeholder:"Total",type:"text",readonly:"",class:"mt-1 block w-full px-4 pr-12 focus:outline-none focus:ring-0 focus:ring-primary-400 focus:border-primary-400 bg-gray-100 sm:text-sm border-gray-300 rounded-md"},null,512),[[d,s.form.total]]),Ee]),l(u,{message:r.$page.props.errors.total},null,8,["message"])])])])])):(_(),f("div",Le,[t("div",Se,[De,t("div",Te,[t("span",Be,m(a.string_change.item_s),1)])]),t("div",Xe,[t("div",Oe,[Qe,t("div",He,[t("div",ze,[i(t("input",{"onUpdate:modelValue":e[20]||(e[20]=o=>s.form.ingredients_for=o),onChange:e[21]||(e[21]=o=>n.calculation()),onKeyup:e[22]||(e[22]=o=>n.calculation()),placeholder:"100",type:"text",oninput:"this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\\..*?)\\..*/g, '$1');",class:"block w-full min-w-0 flex-1 rounded-none rounded-l-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,544),[[d,s.form.ingredients_for]]),Ze])]),t("p",Ge,m(s.form.name),1)])]),t("datalist",Je,[(_(!0),f(y,null,v(a.items,o=>(_(),f("option",{key:o.id,value:o.name},m(o.name),9,We))),128))]),t("div",Ye,[t("table",$e,[t("thead",to,[t("tr",null,[t("th",eo,m(a.string_change.item),1),t("th",oo,m(a.string_change.item)+" Unit Rate",1),so,ro,t("th",ao,m(a.string_change.item)+" Cost",1),no])]),t("tbody",lo,[(_(!0),f(y,null,v(s.form.group_items,(o,p)=>(_(),f("tr",{key:p,class:"divide-gray-200"},[t("td",io,[i(t("input",{list:"ingredients_list","onUpdate:modelValue":c=>o.item_name=c,onChange:c=>n.calculation(p),onKeyup:c=>n.calculation(p),type:"text",class:"block w-full px-2 focus:ring-indigo-400 focus:border-indigo-400 hover:bg-gray-100 focus:bg-transparent sm:text-sm border-gray-300 rounded-md"},null,40,co),[[d,o.item_name]])]),t("td",mo,[t("input",{value:o.avg_rate,readonly:"",placeholder:"Avg Rate",type:"text",class:"block w-full px-4 focus:ring-none focus:ring-0 focus:ring-primary-400 focus:border-primary-400 bg-gray-100 sm:text-sm border-gray-300 rounded-md"},null,8,uo)]),t("td",po,[t("div",go,[i(t("input",{"onUpdate:modelValue":c=>o.total_quantity=c,onChange:c=>n.calculation(p),onKeyup:c=>n.calculation(p),readonly:!o.item_name,placeholder:"Quantity",type:"text",oninput:"this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\\..*?)\\..*/g, '$1');",class:"block w-full px-4 pr-12 focus:ring-primary-400 focus:border-primary-400 sm:text-sm border-gray-300 rounded-md"},null,40,_o),[[d,o.total_quantity]]),t("span",fo,m(o.unit??"-"),1)])]),t("td",ho,[t("div",xo,[t("input",{value:o.quantity_use,readonly:"",placeholder:"Quantity",type:"text",class:"block w-full px-4 pr-12 focus:ring-0 focus:ring-primary-400 focus:border-primary-400 bg-gray-100 sm:text-sm border-gray-300 rounded-md"},null,8,yo),t("span",bo,m(o.unit_use??"-"),1)])]),t("td",vo,[t("input",{value:o.cost,readonly:"",placeholder:"Cost",type:"text",class:"block w-full px-4 focus:ring-none focus:ring-0 focus:ring-primary-400 focus:border-primary-400 bg-gray-100 sm:text-sm border-gray-300 rounded-md"},null,8,wo)]),t("td",ko,[i(t("button",{onClick:c=>[n.removeItem(p),n.calculation()],type:"button",class:"p-1 border border-transparent rounded-full shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500"},[l(k,{class:"h-4 w-4","aria-hidden":"true"})],8,Co),[[b,s.form.group_items.length>1]])])]))),128))]),t("tfoot",qo,[t("tr",null,[t("th",Vo,[t("button",{onClick:e[23]||(e[23]=o=>n.addItem()),type:"button",class:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm leading-4 font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},[x(" Add Item "),l(w,{class:"ml-2 -mr-0.5 h-4 w-4","aria-hidden":"true"})])]),Io,t("th",Uo,m(s.form.production_cost),1),Po])])])]),t("div",Fo,[t("div",Ao,[t("div",jo,[No,t("div",Ro,[i(t("input",{"onUpdate:modelValue":e[24]||(e[24]=o=>s.form.margin_amount=o),placeholder:"Margin Amount",type:"text",readonly:"",class:"mt-1 block w-full px-4 pr-12 focus:outline-none focus:ring-0 focus:ring-primary-400 focus:border-primary-400 bg-gray-100 sm:text-sm border-gray-300 rounded-md"},null,512),[[d,s.form.margin_amount]]),Ko])]),t("div",Mo,[Eo,t("div",Lo,[i(t("input",{"onUpdate:modelValue":e[25]||(e[25]=o=>s.form.margin_percent=o),placeholder:"Margin Percent",type:"text",readonly:"",class:"mt-1 block w-full px-4 pr-12 focus:outline-none focus:ring-0 focus:ring-primary-400 focus:border-primary-400 bg-gray-100 sm:text-sm border-gray-300 rounded-md"},null,512),[[d,s.form.margin_percent]]),So])]),t("div",Do,[To,t("input",{value:s.form.production_cost,placeholder:"Production Cost",readonly:"",type:"text",class:"mt-1 block w-full px-4 focus:ring-0 focus:ring-primary-400 focus:border-primary-400 bg-gray-100 sm:text-sm border-gray-300 rounded-md"},null,8,Bo)]),Xo,t("div",Oo,[Qo,t("div",Ho,[i(t("input",{"onUpdate:modelValue":e[26]||(e[26]=o=>s.form.rate=o),onChange:e[27]||(e[27]=(...o)=>n.total&&n.total(...o)),onKeyup:e[28]||(e[28]=(...o)=>n.total&&n.total(...o)),placeholder:"Rate",type:"text",oninput:"this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\\..*?)\\..*/g, '$1');",autocomplete:"off",class:"mt-1 block w-full px-4 pr-12 focus:ring-indigo-400 focus:border-indigo-400 hover:bg-gray-100 focus:bg-transparent sm:text-sm border-gray-300 rounded-md"},null,544),[[d,s.form.rate]]),zo]),l(u,{message:r.$page.props.errors.rate},null,8,["message"])]),t("div",Zo,[Go,t("div",Jo,[i(t("input",{"onUpdate:modelValue":e[29]||(e[29]=o=>s.form.discount=o),onChange:e[30]||(e[30]=(...o)=>n.total&&n.total(...o)),onKeyup:e[31]||(e[31]=(...o)=>n.total&&n.total(...o)),placeholder:"Discount",type:"text",oninput:"this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\\..*?)\\..*/g, '$1');",autocomplete:"off",class:"mt-1 block w-full px-4 pr-12 focus:ring-indigo-400 focus:border-indigo-400 hover:bg-gray-100 focus:bg-transparent sm:text-sm border-gray-300 rounded-md"},null,544),[[d,s.form.discount]]),Wo]),l(u,{message:r.$page.props.errors.discount},null,8,["message"])]),t("div",Yo,[$o,t("div",ts,[i(t("input",{"onUpdate:modelValue":e[32]||(e[32]=o=>s.form.total=o),placeholder:"Total",type:"text",readonly:"",class:"mt-1 block w-full px-4 pr-12 focus:outline-none focus:ring-0 focus:ring-primary-400 focus:border-primary-400 bg-gray-100 sm:text-sm border-gray-300 rounded-md"},null,512),[[d,s.form.total]]),es]),l(u,{message:r.$page.props.errors.total},null,8,["message"])])])])])),os,t("div",ss,[t("div",rs,[t("button",as,[l(F,{class:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),x(" Update ")]),t("a",{href:r.route("product.index"),class:"ml-3"},[t("button",ls,[l(A,{class:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),x(" Cancel ")])],8,ns)])])])],32)])])])])],64)}const As=z($,[["render",is]]);export{As as default};
