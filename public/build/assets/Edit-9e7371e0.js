import{Z as C,j,x as A,y as i,o as m,f as u,a as r,b as t,w as E,e as P,i as c,z as p,F as h,p as S,d,O as B,A as b,t as M,s as N}from"./app-4cf649ca.js";import{_ as F}from"./AuthenticatedLayout-cbb3e46c.js";import{B as L}from"./Breadcrumb-f1c489ac.js";import{M as O}from"./ModelOptions-9835f210.js";import{_ as q}from"./Alert-8ade166f.js";import{_ as H}from"./InputError-79155e62.js";import{_ as X}from"./Combobox-7aef2234.js";import{_ as $}from"./_plugin-vue_export-helper-c27b6911.js";import{r as D}from"./PlusIcon-18baa55b.js";import{r as T}from"./PencilSquareIcon-5a2dd2ec.js";import{r as z}from"./XMarkIcon-1e2e326f.js";import{r as Z}from"./ArrowPathIcon-9a3bcc07.js";import"./TruckIcon-2f13eb25.js";import"./hidden-253ee999.js";import"./ShoppingCartIcon-90f63347.js";import"./ShoppingBagIcon-e5743d77.js";import"./XMarkIcon-4b7ba5d6.js";import"./ChevronDownIcon-9563394f.js";import"./ChevronUpDownIcon-0b91429b.js";import"./ArrowTopRightOnSquareIcon-61c7f57b.js";import"./CheckIcon-20c25c5e.js";const G={layout:F,components:{Alert:q,Breadcrumb:L,Combobox:X,Head:C,InputError:H,Link:j,ModelOptions:O,PlusIcon:D,PencilSquareIcon:T,XMarkIcon:z,ArrowPathIcon:Z},props:{units:Array,unit:Object},methods:{removeItem(e){confirm("Are you sure you want to delete this element?")&&this.form.group_items.splice(e,1)},addItem(){this.form.group_items.push({factor:"",unit_id:""})}},setup(e){const a=[{name:"Units",href:route("unit.index"),current:!1},{name:"Edit Page",href:"#",current:!1}],n=A({name:e.unit.name,short:e.unit.short,group_items:e.unit.conversions.length?e.unit.conversions:[{factor:"",to_unit_id:""}]});function s(){B.patch(route("unit.update",e.unit.id),n)}return{breadcrumbs:a,form:n,submit:s}}},J={class:"bg-white shadow"},K={class:"px-4 sm:px-6 lg:max-w-6xl lg:mx-auto lg:px-8"},Q={class:"py-6 md:flex md:items-center md:justify-between lg:border-t lg:border-gray-200"},R={class:"flex-1 min-w-0"},W={class:"mt-6 h-9 flex space-x-3 md:mt-0 md:ml-4"},Y={class:"py-5"},tt={class:"max-w-6xl mx-auto sm:px-6 lg:px-8"},et={class:"bg-white shadow sm:rounded-lg"},st=t("div",{class:"flex flex-col sm:flex-row sm:justify-between items-center px-4 py-5 border-b border-gray-200 sm:px-8"},[t("p",{class:"max-w-2xl leading-10 text-gray-700 text-lg font-medium mb-4 sm:mb-0"},"Unit Edit"),t("div",{class:"flex-shrink-0 flex space-x-3"})],-1),ot={class:"space-y-4 sm:space-y-6 px-5 py-6"},rt={class:"max-w-xl mx-auto"},at={class:"grid grid-cols-6 gap-6"},it={class:"col-span-6 sm:col-span-3"},nt=t("label",{class:"block text-sm font-medium text-gray-700"},[d(" Name "),t("span",{class:"text-red-500"},"*")],-1),dt={class:"col-span-6 sm:col-span-3"},lt=t("label",{class:"block text-sm font-medium text-gray-700"},[d(" Short "),t("span",{class:"text-red-500"},"*")],-1),ct=b('<div class="relative"><div class="absolute inset-0 flex items-center" aria-hidden="true"><div class="w-full border-t border-gray-300"></div></div><div class="relative flex justify-start ml-4"><span class="px-3 bg-white text-lg font-medium text-gray-900"> Conversions </span></div></div>',1),mt={class:"max-w-5xl mx-auto space-y-4 sm:space-y-6"},ut={class:"table-auto sm:table-fixed min-w-full divide-y divide-gray-200"},pt=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{scope:"col",class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}),t("th",{scope:"col",class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}),t("th",{scope:"col",class:"w-40 px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Factor"),t("th",{scope:"col",class:"w-64 px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Unit"),t("th",{scope:"col",class:"w-6 px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"#")])],-1),ft={class:"bg-white divide-y divide-gray-200"},xt={class:"whitespace-nowrap text-xs text-gray-700"},gt={class:"text-sm leading-5 text-right text-gray-700"},_t=t("td",{class:"whitespace-nowrap text-xs text-gray-700"},[t("div",{class:"text-3xl leading-5 text-center text-gray-700"}," = ")],-1),ht={class:"whitespace-nowrap text-xs text-gray-700"},bt=["onUpdate:modelValue"],yt={class:"whitespace-nowrap text-xs text-gray-700"},vt={class:"whitespace-nowrap text-xs text-gray-700"},wt=["onClick"],kt={class:"bg-white"},It={colspan:"4",class:"text-left pt-3"},Vt=b('<div class="relative"><div class="absolute inset-0 flex items-center" aria-hidden="true"><div class="w-full border-t border-gray-300"></div></div><div class="relative flex justify-start ml-4"><span class="px-3 bg-white text-lg font-medium text-gray-900"></span></div></div>',1),Ut={class:"max-w-xl mx-auto"},Ct={class:"flex justify-end"},jt={type:"submit",class:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"};function At(e,a,n,s,Et,f){const y=i("Head"),v=i("Breadcrumb"),x=i("PlusIcon"),w=i("Link"),k=i("Alert"),g=i("InputError"),I=i("Combobox"),V=i("XMarkIcon"),U=i("PencilSquareIcon");return m(),u(h,null,[r(y,{title:"Edit Unit"}),t("div",null,[t("div",J,[t("div",K,[t("div",Q,[t("div",R,[r(v,{breadcrumbs:s.breadcrumbs},null,8,["breadcrumbs"])]),t("div",W,[r(w,{href:e.route("unit.create"),class:"inline-flex items-center w-full rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white hover:bg-gray-50 text-sm font-medium text-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 focus:ring-primary-400"},{default:E(()=>[r(x,{class:"-ml-1 mr-2 h-5 w-5 text-gray-400","aria-hidden":"true"}),d(" Create ")]),_:1},8,["href"])])])])]),t("div",Y,[t("div",tt,[t("div",et,[st,r(k),t("form",{onSubmit:a[3]||(a[3]=P((...o)=>s.submit&&s.submit(...o),["prevent"]))},[t("dl",ot,[t("div",rt,[t("div",at,[t("div",it,[nt,c(t("input",{"onUpdate:modelValue":a[0]||(a[0]=o=>s.form.name=o),type:"text",class:"mt-1 block w-full px-4 focus:ring-indigo-400 focus:border-indigo-400 hover:bg-gray-100 focus:bg-transparent sm:text-sm border-gray-300 rounded"},null,512),[[p,s.form.name]]),r(g,{message:e.$page.props.errors.name},null,8,["message"])]),t("div",dt,[lt,c(t("input",{"onUpdate:modelValue":a[1]||(a[1]=o=>s.form.short=o),type:"text",class:"mt-1 block w-full px-4 focus:ring-indigo-400 focus:border-indigo-400 hover:bg-gray-100 focus:bg-transparent sm:text-sm border-gray-300 rounded"},null,512),[[p,s.form.short]]),r(g,{message:e.$page.props.errors.short},null,8,["message"])])])]),ct,t("div",mt,[t("table",ut,[pt,t("tbody",ft,[(m(!0),u(h,null,S(s.form.group_items,(o,_)=>(m(),u("tr",{key:_},[t("td",xt,[t("div",gt," 1 "+M(n.unit.name),1)]),_t,t("td",ht,[c(t("input",{"onUpdate:modelValue":l=>o.factor=l,placeholder:"Factor",type:"text",oninput:"this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\\..*?)\\..*/g, '$1');",autocomplete:"off",class:"block w-full px-4 focus:ring-indigo-400 focus:border-indigo-400 hover:bg-gray-100 focus:bg-transparent sm:text-sm border-gray-300 rounded"},null,8,bt),[[p,o.factor]])]),t("td",yt,[r(I,{class:"mt-1",modelValue:o.to_unit_id,"onUpdate:modelValue":l=>o.to_unit_id=l,items:n.units},null,8,["modelValue","onUpdate:modelValue","items"])]),t("td",vt,[c(t("button",{onClick:l=>(f.removeItem(_),e.calculation()),type:"button",class:"p-1 border border-transparent rounded-full shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500"},[r(V,{class:"h-4 w-4","aria-hidden":"true"})],8,wt),[[N,s.form.group_items.length>1]])])]))),128))]),t("tfoot",kt,[t("tr",null,[t("th",It,[t("button",{onClick:a[2]||(a[2]=o=>f.addItem()),type:"button",class:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm leading-4 font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},[d(" Add Item "),r(x,{class:"ml-2 -mr-0.5 h-4 w-4","aria-hidden":"true"})])])])])])]),Vt,t("div",Ut,[t("div",Ct,[t("button",jt,[r(U,{class:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),d(" Update ")])])])])],32)])])])])],64)}const Wt=$(G,[["render",At]]);export{Wt as default};
