import{o,f as i,b as t,k as b,m as C,r as k,a as d,u as c,w as x,F as h,Z as z,t as l,d as m,p as f,g as y,c as p,q as v,j,i as n,s as r}from"./app-4cf649ca.js";import{_ as S}from"./AuthenticatedLayout-cbb3e46c.js";import{_ as H}from"./Alert-8ade166f.js";import{C as M,a as w}from"./charts-91fa7e39.js";import"./TruckIcon-2f13eb25.js";import"./XMarkIcon-1e2e326f.js";import"./hidden-253ee999.js";import"./ShoppingCartIcon-90f63347.js";import"./ShoppingBagIcon-e5743d77.js";import"./XMarkIcon-4b7ba5d6.js";import"./ChevronDownIcon-9563394f.js";function A(e,a){return o(),i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[t("path",{"fill-rule":"evenodd",d:"M4.5 2.25a.75.75 0 000 1.5v16.5h-.75a.75.75 0 000 1.5h16.5a.75.75 0 000-1.5h-.75V3.75a.75.75 0 000-1.5h-15zM9 6a.75.75 0 000 1.5h1.5a.75.75 0 000-1.5H9zm-.75 3.75A.75.75 0 019 9h1.5a.75.75 0 010 1.5H9a.75.75 0 01-.75-.75zM9 12a.75.75 0 000 1.5h1.5a.75.75 0 000-1.5H9zm3.75-5.25A.75.75 0 0113.5 6H15a.75.75 0 010 1.5h-1.5a.75.75 0 01-.75-.75zM13.5 9a.75.75 0 000 1.5H15A.75.75 0 0015 9h-1.5zm-.75 3.75a.75.75 0 01.75-.75H15a.75.75 0 010 1.5h-1.5a.75.75 0 01-.75-.75zM9 19.5v-2.25a.75.75 0 01.75-.75h4.5a.75.75 0 01.75.75v2.25a.75.75 0 01-.75.75h-4.5A.75.75 0 019 19.5z","clip-rule":"evenodd"})])}const D={class:"bg-white shadow"},O={class:"px-4 sm:px-6 lg:max-w-6xl lg:mx-auto lg:px-8"},V={class:"py-6 md:flex md:items-center md:justify-between lg:border-t lg:border-gray-200"},B={class:"flex-1 min-w-0"},N={class:"flex items-center"},$=["src"],F={class:"flex items-center"},L=["src"],q={class:"ml-3 text-2xl font-bold leading-7 text-gray-900 sm:leading-9 sm:truncate"},E={class:"mt-6 flex flex-col sm:ml-3 sm:mt-1 sm:flex-row sm:flex-wrap"},P=t("dt",{class:"sr-only"},"Company",-1),T={class:"flex items-start text-sm text-gray-500 font-medium capitalize sm:mr-6"},Z={class:"mt-8"},G={class:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8"},I={class:"mt-8"},J={class:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8"},K=t("h2",{class:"text-lg leading-6 font-medium text-gray-900"},"Overview",-1),Q={class:"mt-2 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-3"},R={key:0,class:"row-span-3 bg-white overflow-hidden shadow rounded-lg"},U=t("div",{class:"flex items-center gap-x-4 border-b border-gray-900/5 bg-gray-50 p-6"},[t("div",{class:"text-sm font-medium text-gray-600 truncate"},"Currently per head sales")],-1),W={class:"-my-3 divide-y divide-gray-100 px-6 py-4 text-sm leading-6"},X={class:"text-gray-500"},Y={class:"flex items-start gap-x-2"},tt={class:"font-medium text-gray-900"},et={class:"text-primary-900 bg-primary-50 rounded-md py-1 px-2 text-xs font-medium"},st={class:"p-5 flex-grow"},at={class:"flex items-center"},lt={class:"shrink-0"},ot={class:"ml-5 w-0 flex-1"},it={class:"text-sm font-medium text-gray-500 truncate"},dt={class:"text-lg font-medium text-gray-900"},nt={key:0,class:"flex items-center",style:{"margin-top":"20px"}},rt={class:"shrink-0"},ct={class:"ml-5 w-0 flex-1"},ht={class:"text-sm font-small text-gray-500 truncate",style:{"font-size":"12px"}},mt={class:"text-lg font-medium text-gray-900",style:{"font-size":"12px"}},_t={class:"bg-gray-50 px-5 py-3 mt-auto"},gt={class:"text-sm flex justify-between"},ut={class:"font-medium text-primary-700 hover:text-primary-900"},xt={class:"mt-8"},ft={class:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8"},yt=t("h2",{class:"text-lg leading-6 font-medium text-gray-900"},"Charts",-1),pt={class:"mt-2 grid grid-cols-1 gap-5 2xl:grid-cols-2"},vt={id:"chart_pie",style:{height:"450px"},class:"w-full bg-white overflow-hidden shadow rounded-lg"},wt={id:"chart_line",style:{height:"450px"},class:"w-full bg-white overflow-hidden shadow rounded-lg 2xl:col-span-2"},bt={id:"chart_column",style:{height:"450px"},class:"w-full bg-white overflow-hidden shadow rounded-lg"},Ct={id:"chart_column_monthly",style:{height:"450px"},class:"w-full bg-white overflow-hidden shadow rounded-lg"},$t={__name:"Dashboard",props:{app:Object,auth:Object,greeting:String,errors:Object,chart_data:Object,cards:Array,branch:Object,address:String,sale_branches:Array},setup(e){const a=e;b(()=>{console.log("mounted"),_()}),C(()=>a.branch,()=>{console.log("on branch change"),_()});const _=()=>{a.chart_data.hourly.length>0&&M("chart_line",a.chart_data.hourly,"Hourly","Sales"),a.chart_data.daily.length>0&&w("chart_column",a.chart_data.daily,"Daily","Sales"),a.chart_data.monthly.length>0&&w("chart_column_monthly",a.chart_data.monthly,"Monthly","Sales"),a.chart_data.branches.length>0&&ChartPie("chart_pie",a.data.branches)};return k(!1),(g,kt)=>(o(),i(h,null,[d(c(z),{title:"Dashboard"}),d(S,null,{default:x(()=>{var u;return[t("div",D,[t("div",O,[t("div",V,[t("div",B,[t("div",N,[t("img",{class:"hidden h-16 w-16 rounded-full sm:block",src:e.auth.user.image_url??g.$page.props.app.avatar,alt:""},null,8,$),t("div",null,[t("div",F,[t("img",{class:"h-16 w-16 rounded-full sm:hidden",src:e.auth.user.image_url??g.$page.props.app.avatar,alt:""},null,8,L),t("h1",q," , "+l(e.auth.user.name),1)]),t("dl",E,[P,t("dd",T,[d(c(A),{class:"shrink-0 mr-1.5 h-5 w-5 text-gray-400","aria-hidden":"true"}),m(" "+l(e.branch?e.branch.name+" - "+(((u=e.branch)==null?void 0:u.address)??""):"Showing records from all branch"),1)])])])])])])])]),t("div",Z,[t("div",G,[d(H)])]),t("div",I,[t("div",J,[K,t("div",Q,[e.sale_branches.length>1?(o(),i("div",R,[U,t("dl",W,[(o(!0),i(h,null,f(e.sale_branches,s=>(o(),i("div",{key:s.id,class:"flex justify-between gap-x-4 py-3"},[t("dt",X,l(s.name),1),t("dd",Y,[t("div",tt,l(s.per_head_cost),1),t("div",et,l(s.total_guest),1)])]))),128))])])):y("",!0),(o(!0),i(h,null,f(e.cards,s=>(o(),i("div",{key:s.name,class:"bg-white overflow-hidden shadow rounded-lg d-flex flex-column"},[t("div",st,[t("div",at,[t("div",lt,[(o(),p(v(s.icon),{class:"h-6 w-6 text-gray-400","aria-hidden":"true"}))]),t("div",ot,[t("dl",null,[t("dt",it,l(s.name),1),t("dd",null,[t("div",dt,l(s.amount),1)])])])]),s.extra_info?(o(),i("div",nt,[t("div",rt,[(o(),p(v(s.icon),{class:"h-6 w-6 text-gray-400","aria-hidden":"true"}))]),t("div",ct,[t("dl",null,[t("dt",ht,[m(l(s.extra_info.name)+" ",1),t("strong",mt,l(s.extra_info.amount),1)])])])])):y("",!0)]),t("div",_t,[t("div",gt,[d(c(j),{href:s.href,class:"font-medium text-primary-700 hover:text-primary-900"},{default:x(()=>[m(" View all ")]),_:2},1032,["href"]),t("span",ut,l(s.count_record??""),1)])])]))),128))])])]),t("div",xt,[t("div",ft,[yt,t("div",pt,[n(t("div",vt,null,512),[[r,e.chart_data.branches.length>0]]),n(t("div",wt,null,512),[[r,e.chart_data.hourly.length>0]]),n(t("div",bt,null,512),[[r,e.chart_data.daily.length>0]]),n(t("div",Ct,null,512),[[r,e.chart_data.monthly.length>0]])])])])]}),_:1})],64))}};export{$t as default};
