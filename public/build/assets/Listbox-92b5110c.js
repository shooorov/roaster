import{G as F,r as R,h as m,J as te,k as H,m as K,I as Q,F as Y,H as ae,E as le,L as oe,R as L,P as D,o as j,c as G,w as A,b as E,a as N,t as J,u as B,n as M,f as W,p as ie,g as ne,D as ue}from"./app-4cf649ca.js";import{r as re}from"./ChevronUpDownIcon-0b91429b.js";import{u as V,x as se,n as h,y as de,g as pe,h as ve,o as x,e as ce,l as z,K as fe,H as U,f as be,t as $,i as me,p as xe,a as X,j as ge,k as ye,O as he,b as v}from"./XMarkIcon-1e2e326f.js";import{f as Oe,a as Se}from"./hidden-253ee999.js";import{d as we,e as ke,r as Re}from"./CheckIcon-20c25c5e.js";function Le(t,c){return t===c}var Pe=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(Pe||{}),Te=(t=>(t[t.Single=0]="Single",t[t.Multi=1]="Multi",t))(Te||{}),Ve=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(Ve||{});function Ie(t){requestAnimationFrame(()=>requestAnimationFrame(t))}let Z=Symbol("ListboxContext");function _(t){let c=oe(Z,null);if(c===null){let f=new Error(`<${t} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(f,_),f}return c}let De=F({name:"Listbox",emits:{"update:modelValue":t=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>Le},horizontal:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(t,{slots:c,attrs:f,emit:O}){let e=R(1),p=R(null),s=R(null),b=R(null),d=R([]),a=R(""),l=R(null),S=R(1);function w(o=i=>i){let i=l.value!==null?d.value[l.value]:null,n=he(o(d.value.slice()),y=>x(y.dataRef.domRef)),r=i?n.indexOf(i):null;return r===-1&&(r=null),{options:n,activeOptionIndex:r}}let k=m(()=>t.multiple?1:0),[P,I]=we(m(()=>t.modelValue),o=>O("update:modelValue",o),m(()=>t.defaultValue)),T=m(()=>P.value===void 0?V(k.value,{1:[],0:void 0}):P.value),u={listboxState:e,value:T,mode:k,compare(o,i){if(typeof t.by=="string"){let n=t.by;return(o==null?void 0:o[n])===(i==null?void 0:i[n])}return t.by(o,i)},orientation:m(()=>t.horizontal?"horizontal":"vertical"),labelRef:p,buttonRef:s,optionsRef:b,disabled:m(()=>t.disabled),options:d,searchQuery:a,activeOptionIndex:l,activationTrigger:S,closeListbox(){t.disabled||e.value!==1&&(e.value=1,l.value=null)},openListbox(){t.disabled||e.value!==0&&(e.value=0)},goToOption(o,i,n){if(t.disabled||e.value===1)return;let r=w(),y=se(o===h.Specific?{focus:h.Specific,id:i}:{focus:o},{resolveItems:()=>r.options,resolveActiveIndex:()=>r.activeOptionIndex,resolveId:C=>C.id,resolveDisabled:C=>C.dataRef.disabled});a.value="",l.value=y,S.value=n??1,d.value=r.options},search(o){if(t.disabled||e.value===1)return;let i=a.value!==""?0:1;a.value+=o.toLowerCase();let n=(l.value!==null?d.value.slice(l.value+i).concat(d.value.slice(0,l.value+i)):d.value).find(y=>y.dataRef.textValue.startsWith(a.value)&&!y.dataRef.disabled),r=n?d.value.indexOf(n):-1;r===-1||r===l.value||(l.value=r,S.value=1)},clearSearch(){t.disabled||e.value!==1&&a.value!==""&&(a.value="")},registerOption(o,i){let n=w(r=>[...r,{id:o,dataRef:i}]);d.value=n.options,l.value=n.activeOptionIndex},unregisterOption(o){let i=w(n=>{let r=n.findIndex(y=>y.id===o);return r!==-1&&n.splice(r,1),n});d.value=i.options,l.value=i.activeOptionIndex,S.value=1},theirOnChange(o){t.disabled||I(o)},select(o){t.disabled||I(V(k.value,{0:()=>o,1:()=>{let i=L(u.value.value).slice(),n=L(o),r=i.findIndex(y=>u.compare(n,L(y)));return r===-1?i.push(n):i.splice(r,1),i}}))}};de([s,b],(o,i)=>{var n;u.closeListbox(),pe(i,ve.Loose)||(o.preventDefault(),(n=x(s))==null||n.focus())},m(()=>e.value===0)),te(Z,u),ce(m(()=>V(e.value,{0:z.Open,1:z.Closed})));let g=m(()=>{var o;return(o=x(s))==null?void 0:o.closest("form")});return H(()=>{K([g],()=>{if(!g.value||t.defaultValue===void 0)return;function o(){u.theirOnChange(t.defaultValue)}return g.value.addEventListener("reset",o),()=>{var i;(i=g.value)==null||i.removeEventListener("reset",o)}},{immediate:!0})}),()=>{let{name:o,modelValue:i,disabled:n,form:r,...y}=t,C={open:e.value===0,disabled:n,value:T.value};return Q(Y,[...o!=null&&T.value!=null?ke({[o]:T.value}).map(([q,ee])=>Q(Oe,fe({features:Se.Hidden,key:q,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:r,name:q,value:ee}))):[],U({ourProps:{},theirProps:{...f,...be(y,["defaultValue","onUpdate:modelValue","horizontal","multiple","by"])},slot:C,slots:c,attrs:f,name:"Listbox"})])}}}),Be=F({name:"ListboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:()=>`headlessui-listbox-button-${$()}`}},setup(t,{attrs:c,slots:f,expose:O}){let e=_("ListboxButton");O({el:e.buttonRef,$el:e.buttonRef});function p(a){switch(a.key){case v.Space:case v.Enter:case v.ArrowDown:a.preventDefault(),e.openListbox(),D(()=>{var l;(l=x(e.optionsRef))==null||l.focus({preventScroll:!0}),e.value.value||e.goToOption(h.First)});break;case v.ArrowUp:a.preventDefault(),e.openListbox(),D(()=>{var l;(l=x(e.optionsRef))==null||l.focus({preventScroll:!0}),e.value.value||e.goToOption(h.Last)});break}}function s(a){switch(a.key){case v.Space:a.preventDefault();break}}function b(a){e.disabled.value||(e.listboxState.value===0?(e.closeListbox(),D(()=>{var l;return(l=x(e.buttonRef))==null?void 0:l.focus({preventScroll:!0})})):(a.preventDefault(),e.openListbox(),Ie(()=>{var l;return(l=x(e.optionsRef))==null?void 0:l.focus({preventScroll:!0})})))}let d=me(m(()=>({as:t.as,type:c.type})),e.buttonRef);return()=>{var a,l;let S={open:e.listboxState.value===0,disabled:e.disabled.value,value:e.value.value},{id:w,...k}=t,P={ref:e.buttonRef,id:w,type:d.value,"aria-haspopup":"listbox","aria-controls":(a=x(e.optionsRef))==null?void 0:a.id,"aria-expanded":e.listboxState.value===0,"aria-labelledby":e.labelRef.value?[(l=x(e.labelRef))==null?void 0:l.id,w].join(" "):void 0,disabled:e.disabled.value===!0?!0:void 0,onKeydown:p,onKeyup:s,onClick:b};return U({ourProps:P,theirProps:k,slot:S,attrs:c,slots:f,name:"ListboxButton"})}}}),Ce=F({name:"ListboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:()=>`headlessui-listbox-options-${$()}`}},setup(t,{attrs:c,slots:f,expose:O}){let e=_("ListboxOptions"),p=R(null);O({el:e.optionsRef,$el:e.optionsRef});function s(a){switch(p.value&&clearTimeout(p.value),a.key){case v.Space:if(e.searchQuery.value!=="")return a.preventDefault(),a.stopPropagation(),e.search(a.key);case v.Enter:if(a.preventDefault(),a.stopPropagation(),e.activeOptionIndex.value!==null){let l=e.options.value[e.activeOptionIndex.value];e.select(l.dataRef.value)}e.mode.value===0&&(e.closeListbox(),D(()=>{var l;return(l=x(e.buttonRef))==null?void 0:l.focus({preventScroll:!0})}));break;case V(e.orientation.value,{vertical:v.ArrowDown,horizontal:v.ArrowRight}):return a.preventDefault(),a.stopPropagation(),e.goToOption(h.Next);case V(e.orientation.value,{vertical:v.ArrowUp,horizontal:v.ArrowLeft}):return a.preventDefault(),a.stopPropagation(),e.goToOption(h.Previous);case v.Home:case v.PageUp:return a.preventDefault(),a.stopPropagation(),e.goToOption(h.First);case v.End:case v.PageDown:return a.preventDefault(),a.stopPropagation(),e.goToOption(h.Last);case v.Escape:a.preventDefault(),a.stopPropagation(),e.closeListbox(),D(()=>{var l;return(l=x(e.buttonRef))==null?void 0:l.focus({preventScroll:!0})});break;case v.Tab:a.preventDefault(),a.stopPropagation();break;default:a.key.length===1&&(e.search(a.key),p.value=setTimeout(()=>e.clearSearch(),350));break}}let b=xe(),d=m(()=>b!==null?(b.value&z.Open)===z.Open:e.listboxState.value===0);return()=>{var a,l,S,w;let k={open:e.listboxState.value===0},{id:P,...I}=t,T={"aria-activedescendant":e.activeOptionIndex.value===null||(a=e.options.value[e.activeOptionIndex.value])==null?void 0:a.id,"aria-multiselectable":e.mode.value===1?!0:void 0,"aria-labelledby":(w=(l=x(e.labelRef))==null?void 0:l.id)!=null?w:(S=x(e.buttonRef))==null?void 0:S.id,"aria-orientation":e.orientation.value,id:P,onKeydown:s,role:"listbox",tabIndex:0,ref:e.optionsRef};return U({ourProps:T,theirProps:I,slot:k,attrs:c,slots:f,features:X.RenderStrategy|X.Static,visible:d.value,name:"ListboxOptions"})}}}),Ae=F({name:"ListboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},id:{type:String,default:()=>`headlessui-listbox.option-${$()}`}},setup(t,{slots:c,attrs:f,expose:O}){let e=_("ListboxOption"),p=R(null);O({el:p,$el:p});let s=m(()=>e.activeOptionIndex.value!==null?e.options.value[e.activeOptionIndex.value].id===t.id:!1),b=m(()=>V(e.mode.value,{0:()=>e.compare(L(e.value.value),L(t.value)),1:()=>L(e.value.value).some(u=>e.compare(L(u),L(t.value)))})),d=m(()=>V(e.mode.value,{1:()=>{var u;let g=L(e.value.value);return((u=e.options.value.find(o=>g.some(i=>e.compare(L(i),L(o.dataRef.value)))))==null?void 0:u.id)===t.id},0:()=>b.value})),a=ge(p),l=m(()=>({disabled:t.disabled,value:t.value,get textValue(){return a()},domRef:p}));H(()=>e.registerOption(t.id,l)),ae(()=>e.unregisterOption(t.id)),H(()=>{K([e.listboxState,b],()=>{e.listboxState.value===0&&b.value&&V(e.mode.value,{1:()=>{d.value&&e.goToOption(h.Specific,t.id)},0:()=>{e.goToOption(h.Specific,t.id)}})},{immediate:!0})}),le(()=>{e.listboxState.value===0&&s.value&&e.activationTrigger.value!==0&&D(()=>{var u,g;return(g=(u=x(p))==null?void 0:u.scrollIntoView)==null?void 0:g.call(u,{block:"nearest"})})});function S(u){if(t.disabled)return u.preventDefault();e.select(t.value),e.mode.value===0&&(e.closeListbox(),D(()=>{var g;return(g=x(e.buttonRef))==null?void 0:g.focus({preventScroll:!0})}))}function w(){if(t.disabled)return e.goToOption(h.Nothing);e.goToOption(h.Specific,t.id)}let k=ye();function P(u){k.update(u)}function I(u){k.wasMoved(u)&&(t.disabled||s.value||e.goToOption(h.Specific,t.id,0))}function T(u){k.wasMoved(u)&&(t.disabled||s.value&&e.goToOption(h.Nothing))}return()=>{let{disabled:u}=t,g={active:s.value,selected:b.value,disabled:u},{id:o,value:i,disabled:n,...r}=t,y={id:o,ref:p,role:"option",tabIndex:u===!0?void 0:-1,"aria-disabled":u===!0?!0:void 0,"aria-selected":b.value,disabled:void 0,onClick:S,onFocus:w,onPointerenter:P,onMouseenter:P,onPointermove:I,onMousemove:I,onPointerleave:T,onMouseleave:T};return U({ourProps:y,theirProps:r,slot:g,attrs:f,slots:c,name:"ListboxOption"})}}});const Ee={class:"relative w-full"},Ne={class:"block truncate"},je={class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2"},He={__name:"Listbox",props:{placeholder:{type:String,default:"Select"},items:{type:Array,default:[]},modelValue:[String,Number,Object,Boolean],position:{default:"bottom"},checkPosition:{default:"right"},hideIcon:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(t,{emit:c}){const f=t,O=R(f.items.find(e=>f.modelValue==e.id)??"");return K(()=>O.value,()=>{c("update:modelValue",O.value.id)}),(e,p)=>(j(),G(B(De),{modelValue:O.value,"onUpdate:modelValue":p[0]||(p[0]=s=>O.value=s)},{default:A(()=>[E("div",Ee,[N(B(Be),{class:"w-full text-left rounded-md border border-gray-300 bg-white py-2 pl-3 pr-10 focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500 sm:text-sm"},{default:A(()=>[E("span",Ne,J(O.value.name??f.placeholder),1),E("span",je,[N(B(re),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})])]),_:1}),N(ue,{"leave-active-class":"transition duration-100 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:A(()=>[N(B(Ce),{class:M([t.position=="top"?"bottom-10 mb-1":"mt-1","absolute z-10 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm"])},{default:A(()=>[(j(!0),W(Y,null,ie(t.items,s=>(j(),G(B(Ae),{key:s.name,value:s,as:"template"},{default:A(({active:b,selected:d})=>[E("li",{class:M([b?"bg-primary-100 text-primary-900":"text-gray-900 pl-4",t.checkPosition=="left"?"pl-10":"pl-4 pr-10","relative cursor-default select-none py-2 pr-4"])},[E("span",{class:M([d?"font-medium":"font-normal","block truncate"])},J(s.name),3),d&&!t.hideIcon?(j(),W("span",{key:0,class:M([t.checkPosition=="left"?"left-0 pl-3":"right-0 pr-3","absolute inset-y-0 flex items-center text-primary-600"])},[N(B(Re),{class:"h-5 w-5","aria-hidden":"true"})],2)):ne("",!0)],2)]),_:2},1032,["value"]))),128))]),_:1},8,["class"])]),_:1})])]),_:1},8,["modelValue"]))}};export{He as _};
